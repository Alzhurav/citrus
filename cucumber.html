<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Cucumber BDD support</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="cucumber" class="article toc2 toc-left">
<div id="header">
<h1>Cucumber BDD support</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#cucumber-integration">Cucumber integration</a></li>
<li><a href="#cucumber-xml-steps">Cucumber XML steps</a></li>
<li><a href="#cucumber-spring-support">Cucumber Spring support</a></li>
<li><a href="#citrus-step-definitions">Citrus step definitions</a></li>
<li><a href="#variable-steps">Variable steps</a></li>
<li><a href="#messaging-steps">Messaging steps</a></li>
<li><a href="#named-messages">Named messages</a></li>
<li><a href="#message-creator-steps">Message creator steps</a></li>
<li><a href="#echo-steps">Echo steps</a></li>
<li><a href="#sleep-steps">Sleep steps</a></li>
<li><a href="#http-steps">Http steps</a></li>
<li><a href="#docker-steps">Docker steps</a></li>
<li><a href="#selenium-steps">Selenium steps</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Behavior driven development (BDD) is becoming more and more popular these days. The idea of defining and describing the software behavior as basis for all tests in prior to translating those feature descriptions into executable tests is a very interesting approach because it includes the technical experts as well as the domain experts. With BDD the domain experts can easily read and verify the tests and the technical experts get a detailed description of what should happen in the test.</p>
</div>
<div class="paragraph">
<p>The test scenario descriptions follow the Gherkin syntax with a <strong>"Given-When-Then"</strong> structure most of the time. The Gherkin language is business readable and well known in BDD.</p>
</div>
<div class="paragraph">
<p>There are lots of frameworks in the Java community that support BDD concepts. Citrus has dedicated support for the Cucumber framework because Cucumber is well suited for extensions and plugins. So with the Citrus and Cucumber integration you can write Gherkin syntax scenario and feature stories in order to execute the Citrus integration test capabilities. As usual we have a look at a first example. First lets see the Citrus cucumber dependency and XML schema definitions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Cucumber components in Citrus are kept in a separate Maven module. If not already done so you have to include the module as Maven dependency to your project
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>com.consol.citrus<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>citrus-cucumber<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>2.7.2-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Citrus provides a separate configuration namespace and schema definition for Cucumber related step definitions. Include this namespace into your Spring configuration in order to use the Citrus Cucumber configuration elements. The namespace URI and schema location are added to the Spring configuration XML file as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;spring:beans</span> <span class="attribute-name">xmlns:spring</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span><span class="delimiter">&quot;</span></span>
     <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
     <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.citrusframework.org/schema/cucumber/testcase</span><span class="delimiter">&quot;</span></span>
     <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span>
     <span class="content">http://www.springframework.org/schema/beans</span>
     <span class="content">http://www.springframework.org/schema/beans/spring-beans.xsd</span>
     <span class="content">http://www.citrusframework.org/schema/cucumber/testcase</span>
     <span class="content">http://www.citrusframework.org/schema/cucumber/testcase/citrus-cucumber-testcase.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

    [...]

<span class="tag">&lt;/spring:beans&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Cucumber works with both JUnit and TestNG as unit testing framework. You can choose which framework to use with Cucumber. So following from that we need a Maven dependency for the unit testing framework support:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>info.cukes<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>cucumber-junit<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>${cucumber.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In order to enable Citrus Cucumber support we need to specify a special object factory in the environment. The most comfortable way to specify a custom object factory is to add this property to the <strong>cucumber.properties</strong> in classpath.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">cucumber.api.java.ObjectFactory=cucumber.runtime.java.CitrusObjectFactory</code></pre>
</div>
</div>
<div class="paragraph">
<p>This special object factory takes care on creating all step definition instances. The object factory is able to inject <strong>@CitrusResource</strong> annotated fields in step classes. We will see this later on in the examples. The usage of this special object factory is mandatory in order to combine Citrus and Cucumber capabilities.</p>
</div>
<div class="paragraph">
<p>The <strong>CitrusObjectFactory</strong> will automatically initialize the Citrus world for us. This includes the default <strong>citrus-context.xml</strong> Citrus Spring configuration that is automatically loaded within the object factory. So you can define and use Citrus components as usual within your test.</p>
</div>
<div class="paragraph">
<p>After these preparation steps you are able to combine Citrus and Cucumber in your project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cucumber-integration">Cucumber integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cucumber is able to run tests with JUnit. The basic test case is an empty test which uses the respective JUnit runner implementation from cucumber.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Cucumber.class)
<span class="annotation">@CucumberOptions</span>(
  plugin = { <span class="string"><span class="delimiter">&quot;</span><span class="content">com.consol.citrus.cucumber.CitrusReporter</span><span class="delimiter">&quot;</span></span> } )
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyFeatureIT</span> {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The test case above uses the <strong>Cucumber</strong> JUnit test runner. In addition to that we give some options to the Cucumber execution. We define a special Citrus reporter implementation. This class is responsible for printing the Citrus test summary. This reporter extends the default Cucumber reporter implementation so the default Cucumber report summaries are also printed to the console.</p>
</div>
<div class="paragraph">
<p>That completes the JUnit class configuration. Now we are able to add feature stories and step definitions to the package of our test <strong>MyFeatureIT</strong> . Cucumber and Citrus will automatically pick up step definitions and glue code in that test package. So lets write a feature story <strong>echo.feature</strong> right next to the <strong>MyFeatureIT</strong> test class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Echo service

  Scenario: Say hello
    Given My name is Citrus
    When I say hello to the service
    Then the service should return: &quot;Hello, my name is Citrus!&quot;

  Scenario: Say goodbye
    Given My name is Citrus
    When I say goodbye to the service
    Then the service should return: &quot;Goodbye from Citrus!&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see this story defines two scenarios with the Gherkin <strong>Given-When-Then</strong> syntax. Now we need to add step definitions that glue the story description to Citrus test actions. Lets do this in a new class <strong>EchoSteps</strong> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">EchoSteps</span> {

    <span class="annotation">@CitrusResource</span>
    <span class="directive">protected</span> TestDesigner designer;

    <span class="annotation">@Given</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^My name is (.*)$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> my_name_is(<span class="predefined-type">String</span> name) {
        designer.variable(<span class="string"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span>, name);
    }

    <span class="annotation">@When</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^I say hello.*$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> say_hello() {
        designer.send(<span class="string"><span class="delimiter">&quot;</span><span class="content">echoEndpoint</span><span class="delimiter">&quot;</span></span>)
          .messageType(MessageType.PLAINTEXT)
          .payload(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello, my name is ${username}!</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="annotation">@When</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^I say goodbye.*$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> say_goodbye() {
        designer.send(<span class="string"><span class="delimiter">&quot;</span><span class="content">echoEndpoint</span><span class="delimiter">&quot;</span></span>)
          .messageType(MessageType.PLAINTEXT)
          .payload(<span class="string"><span class="delimiter">&quot;</span><span class="content">Goodbye from ${username}!</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="annotation">@Then</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^the service should return: </span><span class="char">\&quot;</span><span class="content">([^</span><span class="char">\&quot;</span><span class="content">]*)</span><span class="char">\&quot;</span><span class="content">$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> verify_return(<span class="directive">final</span> <span class="predefined-type">String</span> body) {
        designer.receive(<span class="string"><span class="delimiter">&quot;</span><span class="content">echoEndpoint</span><span class="delimiter">&quot;</span></span>)
          .messageType(MessageType.PLAINTEXT)
          .payload(<span class="string"><span class="delimiter">&quot;</span><span class="content">You just said: </span><span class="delimiter">&quot;</span></span> + body);
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we have a closer look at the step definition class we see that it is a normal POJO that uses a <strong>@CitrusResource</strong> annotated <strong>TestDesigner</strong>. The test designer is automatically injected by Citrus Cucumber extension. This is done because we have included the citrus-cucumber dependency to our project before.</p>
</div>
<div class="paragraph">
<p>We can set the injection mode for the Citrus Cucumber extension with a system property named <em>citrus.cucumber.injection.mode</em>. By default this is set to <strong>DESIGNER</strong> so Citrus will inject a test designer instance. In case you want to use the
test runner instead you should set the system property or environment property in your project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">citrus.cucumber.injection.mode=RUNNER
CITRUS_CUCUMBER_INJECTION_MODE=RUNNER</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we can write @Given, @When or @Then annotated methods that match the scenario descriptions in our story. Cucumber will automatically find matching methods and execute them. The methods add test actions to the test designer as we are used to it in normal Java DSL tests. At the end the test designer is automatically executed with the test logic.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Of course you can do the dependency injection with <strong>@CitrusResource</strong> annotations on <strong>TestRunner</strong> instances, too. Which variation should someone use <strong>TestDesigner</strong> or <strong>TestRunner</strong> ? In fact there is a significant difference when looking at the two approaches. The designer will use the Gherkin methods to build the whole Citrus test case first before any action is executed. The runner will execute each test action that has been built with a Gherkin step immediately. This means that a designer approach will always complete all BDD step definitions before taking action. This directly affects the Cucumber step reports. All steps are usually marked as successful when using a designer approach as the Citrus test is executed after the Cucumber steps have been executed. The runner approach in contrast will fail the step when the corresponding test action fails. The Cucumber test reports will definitely look different depending on what approach you are choosing. All other functions stay the same in both approaches. If you need to learn more about designer and runner approaches please see
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If we run the Cucumber test the Citrus test case automatically performs its actions. That is a first combination of Citrus and Cucumber BDD. The story descriptions are translated to test actions and we are able to run integration tests with behavior driven development. Great! In a next step we will use XML step definitions rather than coding the steps in Java DSL.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cucumber-xml-steps">Cucumber XML steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far we have written glue code in Java in order to translate Gherkin syntax descriptions to test actions. Now we want to do the same with just XML configuration. The JUnit Cucumber class should not change. We still use the Cucumber runner implementation with some options specific to Citrus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Cucumber.class)
<span class="annotation">@CucumberOptions</span>(
    plugin = { <span class="string"><span class="delimiter">&quot;</span><span class="content">com.consol.citrus.cucumber.CitrusReporter</span><span class="delimiter">&quot;</span></span> } )
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyFeatureIT</span> {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The scenario description is also not changed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Echo service

  Scenario: Say hello
    Given My name is Citrus
    When I say hello to the service
    Then the service should return: &quot;Hello, my name is Citrus!&quot;

  Scenario: Say goodbye
    Given My name is Citrus
    When I say goodbye to the service
    Then the service should return: &quot;Goodbye from Citrus!&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the feature package <strong>my.company.features</strong> we add a new XML file <strong>EchoSteps.xml</strong> that holds the new XML step definitions:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="preprocessor">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="tag">&lt;spring:beans</span> <span class="attribute-name">xmlns:citrus</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.citrusframework.org/schema/testcase</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns:spring</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.citrusframework.org/schema/cucumber/testcase</span><span class="delimiter">&quot;</span></span>
      <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.springframework.org/schema/beans</span>
                          <span class="content">http://www.springframework.org/schema/beans/spring-beans.xsd</span>
                          <span class="content">http://www.citrusframework.org/schema/cucumber/testcase</span>
                          <span class="content">http://www.citrusframework.org/schema/cucumber/testcase/citrus-cucumber-testcase.xsd</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>

  <span class="tag">&lt;step</span> <span class="attribute-name">given</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">^My name is (.*)$</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">parameter-names</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;citrus:create-variables&gt;</span>
      <span class="tag">&lt;citrus:variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${username}</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;/citrus:create-variables&gt;</span>
  <span class="tag">&lt;/step&gt;</span>

  <span class="tag">&lt;step</span> <span class="attribute-name">when</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">^I say hello.*$</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;citrus:send</span> <span class="attribute-name">endpoint</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">echoEndpoint</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;citrus:message</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plaintext</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;citrus:data&gt;</span>Hello, my name is ${username}!<span class="tag">&lt;/citrus:data&gt;</span>
      <span class="tag">&lt;/citrus:message&gt;</span>
    <span class="tag">&lt;/citrus:send&gt;</span>
  <span class="tag">&lt;/step&gt;</span>

  <span class="tag">&lt;step</span> <span class="attribute-name">when</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">^I say goodbye.*$</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;citrus:send</span> <span class="attribute-name">endpoint</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">echoEndpoint</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;citrus:message</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plaintext</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;citrus:data&gt;</span>Goodbye from ${username}!<span class="tag">&lt;/citrus:data&gt;</span>
      <span class="tag">&lt;/citrus:message&gt;</span>
    <span class="tag">&lt;/citrus:send&gt;</span>
  <span class="tag">&lt;/step&gt;</span>

  <span class="tag">&lt;step</span> <span class="attribute-name">then</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">^the service should return: </span><span class="entity">&amp;quot;</span><span class="content">([^</span><span class="entity">&amp;quot;</span><span class="content">]*)</span><span class="entity">&amp;quot;</span><span class="content">$</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">parameter-names</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">body</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;citrus:receive</span> <span class="attribute-name">endpoint</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">echoEndpoint</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;citrus:message</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">plaintext</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;citrus:data&gt;</span>You just said: ${body}<span class="tag">&lt;/citrus:data&gt;</span>
      <span class="tag">&lt;/citrus:message&gt;</span>
    <span class="tag">&lt;/citrus:receive&gt;</span>
  <span class="tag">&lt;/step&gt;</span>

<span class="tag">&lt;/spring:beans&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above steps definition is written in pure XML. Citrus will automatically read the step definition and add those to the Cucumber runtime. Following from that the step definitions are executed when matching to the feature story. The XML step files follow a naming convention. Citrus will look for all files located in the feature package with name pattern <code>**/**.Steps.xml</code> and load those definitions when Cucumber starts up.</p>
</div>
<div class="paragraph">
<p>The XML steps are able to receive parameters from the Gherkin regexp matcher. The parameters are passed to the step as test variable. The parameter names get declared in the optional attribute <strong>parameter-names</strong> . In the step definition actions you can use the parameter names as test variables.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The test variables are visible in all upcoming steps, too. This is because the test variables are global by default. If you need to set local state for a step definition you can use another attribute <strong>global-context</strong> and set it to <strong>false</strong> in the step definition. This way all test variables and parameters are only visible in the step definition. Other steps will not see the test variables.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Another notable thing is the XML escaping of reserved characters in the pattern definition. You can see that in the last step where the <strong>then</strong> attribute is escaping quotation characters.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">then=&quot;^the service should return: <span class="entity">&amp;quot;</span>([^<span class="entity">&amp;quot;</span>]*)<span class="entity">&amp;quot;</span>$&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We have to do this because otherwise the quotation characters will interfere with the XML syntax in the attribute.</p>
</div>
<div class="paragraph">
<p>This completes the description of how to add XML step definitions to the cucumber BDD tests. In a next section we will use predefined steps for sending and receiving messages.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cucumber-spring-support">Cucumber Spring support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cucumber provides support for Spring dependency injection in step definition classes. The Cucumber Spring capabilities are included in a separate module. So we first of all we have to add this dependency to our project:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
  <span class="tag">&lt;groupId&gt;</span>info.cukes<span class="tag">&lt;/groupId&gt;</span>
  <span class="tag">&lt;artifactId&gt;</span>cucumber-spring<span class="tag">&lt;/artifactId&gt;</span>
  <span class="tag">&lt;version&gt;</span>${cucumber.version}<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Citrus Cucumber extension has to handle things different when Cucumber Spring support is enabled. Therefore we use another object factory implementation that also support Cucumber Spring features. Change the object factory property in <strong>cucumber.properties</strong> to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">cucumber.api.java.ObjectFactory=cucumber.runtime.java.spring.CitrusSpringObjectFactory</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we are ready to add <strong>@Autowired</strong> Spring bean dependency injection to step definition classes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@ContextConfiguration</span>(classes = CitrusSpringConfig.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">EchoSteps</span> {
    <span class="annotation">@Autowired</span>
    <span class="directive">private</span> Endpoint echoEndpoint;

    <span class="annotation">@CitrusResource</span>
    <span class="directive">protected</span> TestDesigner designer;

    <span class="annotation">@Given</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^My name is (.*)$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> my_name_is(<span class="predefined-type">String</span> name) {
        designer.variable(<span class="string"><span class="delimiter">&quot;</span><span class="content">username</span><span class="delimiter">&quot;</span></span>, name);
    }

    <span class="annotation">@When</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^I say hello.*$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> say_hello() {
        designer.send(echoEndpoint)
            .messageType(MessageType.PLAINTEXT)
            .payload(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello, my name is ${username}!</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="annotation">@When</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^I say goodbye.*$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> say_goodbye() {
        designer.send(echoEndpoint)
            .messageType(MessageType.PLAINTEXT)
            .payload(<span class="string"><span class="delimiter">&quot;</span><span class="content">Goodbye from ${username}!</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="annotation">@Then</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">^the service should return: </span><span class="char">\&quot;</span><span class="content">([^</span><span class="char">\&quot;</span><span class="content">]*)</span><span class="char">\&quot;</span><span class="content">$</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> <span class="type">void</span> verify_return(<span class="directive">final</span> <span class="predefined-type">String</span> body) {
        designer.receive(echoEndpoint)
            .messageType(MessageType.PLAINTEXT)
            .payload(<span class="string"><span class="delimiter">&quot;</span><span class="content">You just said: </span><span class="delimiter">&quot;</span></span> + body);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see we used Spring autowiring mechanism for the <strong>echoEndpoint</strong> field in the step definition. Also be sure to define the <strong>@ContextConfiguration</strong> annotation on the step definition. The Cucumber Spring support loads the Spring application context and takes care on dependency injection. We use the Citrus <strong>CitrusSpringConfig</strong> Java configuration because this is the main entrance for Citrus test cases. You can add custom beans and further Spring related configuration to this Spring application context. If you want to add more beans for autowiring do so in the Citrus Spring configuration. Usually this is the default <strong>citrus-context.xml</strong> which is automatically loaded.</p>
</div>
<div class="paragraph">
<p>Of course you can also use a custom Java Spring configuration class here. But be sure to always import the Citrus Spring Java configuration classes, too. Otherwise you will not be able to execute the Citrus integration test capabilities.</p>
</div>
<div class="paragraph">
<p>As usual we are able to use <strong>@CitrusResource</strong> annotated <strong>TestDesigner</strong> fields for building the Citrus integration test logic. With this extension you can use the full Spring testing power in your tests in particular dependency injection and also transaction management for data persistence tests.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="citrus-step-definitions">Citrus step definitions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Citrus provides some out of the box predefined steps for typical integration test scenarios. These steps are ready to use in scenario or feature stories. You can basically define send and receive operations. As these steps are predefined in Citrus you just need to write feature stories. The step definitions with glue to test actions are handled automatically.</p>
</div>
<div class="paragraph">
<p>If you want to enable predefined steps support in your test you need to include the glue code package in your test class like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Cucumber.class)
<span class="annotation">@CucumberOptions</span>(
    glue = { <span class="string"><span class="delimiter">&quot;</span><span class="content">com.consol.citrus.cucumber.step.designer.core</span><span class="delimiter">&quot;</span></span> },
    plugin = { <span class="string"><span class="delimiter">&quot;</span><span class="content">com.consol.citrus.cucumber.CitrusReporter</span><span class="delimiter">&quot;</span></span> } )
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyFeatureIT</span> {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instead of writing the glue code on our own in step definition classes we include the glue package <strong>com.consol.citrus.cucumber.step.designer.core</strong> . This automatically loads all Citrus glue step definitions in this package. Once you have done this you can use predefined steps that add Citrus test logic without having to write any glue code in Java step definitions.</p>
</div>
<div class="paragraph">
<p>Of course you can also choose to include the <strong>TestRunner</strong> step definitions by choosing the glue package <strong>com.consol.citrus.cucumber.step.runner.core</strong> .</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@RunWith</span>(Cucumber.class)
<span class="annotation">@CucumberOptions</span>(
    glue = { <span class="string"><span class="delimiter">&quot;</span><span class="content">com.consol.citrus.cucumber.step.runner.core</span><span class="delimiter">&quot;</span></span> },
    plugin = { <span class="string"><span class="delimiter">&quot;</span><span class="content">com.consol.citrus.cucumber.CitrusReporter</span><span class="delimiter">&quot;</span></span> } )
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyFeatureIT</span> {

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Following basic step definitions are included in this package:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Given variable [name] is &quot;[value]&quot;
Given variables
| [name1]   | [value1]   |
| [name2]   | [value2]   |

When <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> sends &quot;[message-payload]&quot;
Then <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> should receive (message-type) &quot;[message-payload]&quot;

When <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> sends
  &quot;&quot;&quot;
  [message-payload]
  &quot;&quot;&quot;
Then <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> should receive (message-type)
  &quot;&quot;&quot;
  [message-payload]
  &quot;&quot;&quot;

When <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> receives (message-type) &quot;[message-payload]&quot;
Then <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> should send &quot;[message-payload]&quot;

When <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> receives (message-type)
  &quot;&quot;&quot;
  [message-payload]
  &quot;&quot;&quot;
Then <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> should send
  &quot;&quot;&quot;
  [message-payload]
  &quot;&quot;&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once again it should be said that the step definitions included in this package are loaded automatically as glue code. So you can start to write feature stories in Gherkin syntax that trigger the predefined steps.</p>
</div>
<div class="paragraph">
<p>There are several default step definitions for different aspects of integration testing. Please see the following packages that define default steps in Citrus:</p>
</div>
<div class="ulist">
<div class="title">Test designer packages</div>
<ul>
<li>
<p>com.consol.citrus.cucumber.step.designer.core</p>
</li>
<li>
<p>com.consol.citrus.cucumber.step.designer.http</p>
</li>
<li>
<p>com.consol.citrus.cucumber.step.designer.docker</p>
</li>
<li>
<p>com.consol.citrus.cucumber.step.designer.selenium</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Test runner packages</div>
<ul>
<li>
<p>com.consol.citrus.cucumber.step.runner.core</p>
</li>
<li>
<p>com.consol.citrus.cucumber.step.runner.http</p>
</li>
<li>
<p>com.consol.citrus.cucumber.step.runner.docker</p>
</li>
<li>
<p>com.consol.citrus.cucumber.step.runner.selenium</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the following sections we have a closer look at all predefined Citrus steps and how they work.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="variable-steps">Variable steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As you already know Citrus is able to work with test variables that hold important information during a test such as identifiers and dynamic values. The predefined step definitions in Citrus are able to create new test variables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Given variable messageText is &quot;Hello&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The syntax of this predefined step is pretty self describing. The step instruction follows the pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Given variable [name] is &quot;[value]&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you keep this syntax in your feature story the predefined step is activated for creating a new variable. We always use the <strong>Given</strong> step to create new variables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Scenario: Create Variables
    Given variable messageText is &quot;Hello&quot;
      And variable operationHeader is &quot;sayHello&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>So we can use the <strong>And</strong> keyword to create more than one variable. Even more comfortable is the usage of data tables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Given variables
    | hello   | I say hello   |
    | goodbye | I say goodbye |</code></pre>
</div>
</div>
<div class="paragraph">
<p>This data table will create the test variable for each row. This is how you can easily create new variables in your Citrus test. As usual the variables are referenced in message payloads and headers as placeholders for dynamically adding content.</p>
</div>
<div class="paragraph">
<p>Adding variables is usually done within a <strong>Scenario</strong> block in your feature story. This means that the test variable is used in this scenario which is exactly one Citrus test case. Cucumber BDD also defines a <strong>Background</strong> block at the very beginning of your <strong>Feature</strong> . We can also place variables in here. This means that Cucumber will execute these steps for all upcoming scenarios. The test variable is so to speak global for this feature story.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Variables

    Background:
      Given variable messageText is &quot;Hello&quot;

    Scenario: Do something
    Scenario: Do something else</code></pre>
</div>
</div>
<div class="paragraph">
<p>That completes the variable step definitions in Citrus.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="messaging-steps">Messaging steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the previous section we have learned how to use a first predefined Citrus step. Now we want to cover messaging steps for sending and receiving messages in Citrus. As usual with predefined steps you do not need to write any glue code for the steps to take action. The steps are already included in Citrus just use them in your feature stories.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Messaging features

    Background:
      Given variable messageText is &quot;Hello&quot;

    Scenario: Send and receive plaintext
      When <span class="tag">&lt;echoEndpoint&gt;</span> sends &quot;${messageText}&quot;
      Then <span class="tag">&lt;echoEndpoint&gt;</span> should receive plaintext &quot;You just said: ${messageText}&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course we need to follow the predefined syntax when writing feature stories in order to trigger a predefined step. Let&#8217;s have a closer look at this predefined syntax by further describing the above example.</p>
</div>
<div class="paragraph">
<p>First of all we define a new test variable with <strong>Given variable messageText is "Hello"</strong> . This tells Citrus to create a new test variable named <strong>messageText</strong> with respective value. We can do the same for sending and receiving messages like done in our test scenario:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">When <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> sends &quot;[message-payload]&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The step definition requires the endpoint component name and a message payload. The predefined step will automatically configure a send test action in the Citrus test as result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Then <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> should receive (message-type) &quot;[message-payload]&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The predefined receive step also requires the <strong>endpoint-name</strong> and <strong>message-payload</strong> . As optional parameter you can define the <strong>message-type</strong> . This is required when sending message payloads other than XML.</p>
</div>
<div class="paragraph">
<p>This way you can write Citrus tests with just writing feature stories in Gherkin syntax. Up to now we have used pretty simple message payloads in on single line. Of course we can also use multiline payloads in the stories:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Messaging features

    Background:
      Given variable messageText is &quot;Hello&quot;

    Scenario: Send and receive
      When <span class="tag">&lt;echoEndpoint&gt;</span> sends
        &quot;&quot;&quot;
        <span class="tag">&lt;message&gt;</span>
          <span class="tag">&lt;text&gt;</span>${messageText}<span class="tag">&lt;/text&gt;</span>
        <span class="tag">&lt;/message&gt;</span>
        &quot;&quot;&quot;
      Then <span class="tag">&lt;echoEndpoint&gt;</span> should receive
        &quot;&quot;&quot;
        <span class="tag">&lt;message&gt;</span>
          <span class="tag">&lt;text&gt;</span>${messageText}<span class="tag">&lt;/text&gt;</span>
        <span class="tag">&lt;/message&gt;</span>
        &quot;&quot;&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see we are able to use the send and receive steps with multiline XML message payload data.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="named-messages">Named messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the previous section we have learned how to use Citrus predefined step definitions for send and receive operations. The message payload has been added directly to the stories so far. But what is with message header information? We want to specify a complete message with payload and header. You can do this by defining a named message.</p>
</div>
<div class="paragraph">
<p>As usual we demonstrate this in a first example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Named message feature

    Background:
      Given message echoRequest
        And <span class="tag">&lt;echoRequest&gt;</span> payload is &quot;Hi my name is Citrus!&quot;
        And <span class="tag">&lt;echoRequest&gt;</span> header operation is &quot;sayHello&quot;

      Given message echoResponse
        And <span class="tag">&lt;echoResponse&gt;</span> payload is &quot;Hi, Citrus how are you doing today?&quot;
        And <span class="tag">&lt;echoResponse&gt;</span> header operation is &quot;sayHello&quot;

    Scenario: Send and receive
      When <span class="tag">&lt;echoEndpoint&gt;</span> sends message <span class="tag">&lt;echoRequest&gt;</span>
      Then <span class="tag">&lt;echoEndpoint&gt;</span> should receive message <span class="tag">&lt;echoResponse&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <strong>Background</strong> section we introduce named messages <strong>echoRequest</strong> and <strong>echoResponse</strong> . This makes use of the new predefined step for adding named message:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Given message [message-name]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the message is introduced with its name we can use the message in further configuration steps. You can add payload information and you can add multiple headers to the message. The named message then is referenced in send and receive steps as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">When <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> sends message <span class="error">&lt;</span>[message-name]<span class="error">&gt;</span>
Then <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> should receive message <span class="error">&lt;</span>[message-name]<span class="error">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The steps reference a message by its name <strong>echoRequest</strong> and <strong>echoResponse</strong> .</p>
</div>
<div class="paragraph">
<p>As you can see the named messages are used to define complete messages with payload and header information. Of course the named messages can be referenced in many scenarios and steps. Also with usage of test variables in payload and header you can dynamically adjust those messages in each step.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="message-creator-steps">Message creator steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the previous section we have learned how to use named messages as predefined step. The named message has been defined directly in the stories so far. The message creator concept moves this task to some Java POJO. This way you are able to construct more complicated messages for reuse in several scenarios and feature stories.</p>
</div>
<div class="paragraph">
<p>As usual we demonstrate this in a first example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Message creator features

    Background:
      Given message creator com.consol.citrus.EchoMessageCreator
      And variable messageText is &quot;Hello&quot;
      And variable operation is &quot;sayHello&quot;

    Scenario: Send and receive
      When <span class="tag">&lt;echoEndpoint&gt;</span> sends message <span class="tag">&lt;echoRequest&gt;</span>
      Then <span class="tag">&lt;echoEndpoint&gt;</span> should receive message <span class="tag">&lt;echoResponse&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <strong>Background</strong> section we introduce a message creator <strong>EchoMessageCreator</strong> in package <strong>com.consol.citrus</strong> . This makes use of the new predefined step for adding message creators to the test:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Given message creator [message-creator-name]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The message creator name must be the fully qualified Java class name with package information. Once this is done we can use named messages in the send and receive operations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">When <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> sends message <span class="error">&lt;</span>[message-name]<span class="error">&gt;</span>
Then <span class="error">&lt;</span>[endpoint-name]<span class="error">&gt;</span> should receive message <span class="error">&lt;</span>[message-name]<span class="error">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The steps reference a message by its name <strong>echoRequest</strong> and <strong>echoResponse</strong> . Now lets have a look at the message creator <strong>EchoMessageCreator</strong> implementation in order to see how this correlates to a real message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">EchoMessageCreator</span> {
    <span class="annotation">@MessageCreator</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">echoRequest</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> Message createEchoRequest() {
      <span class="keyword">return</span> <span class="keyword">new</span> DefaultMessage(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> +
            <span class="string"><span class="delimiter">&quot;</span><span class="content">${messageText}</span><span class="delimiter">&quot;</span></span> +
          <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
            .setHeader(<span class="string"><span class="delimiter">&quot;</span><span class="content">operation</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">${operation}</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="annotation">@MessageCreator</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">echoResponse</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">public</span> Message createEchoResponse() {
      <span class="keyword">return</span> <span class="keyword">new</span> DefaultMessage(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> +
            <span class="string"><span class="delimiter">&quot;</span><span class="content">${messageText}</span><span class="delimiter">&quot;</span></span> +
          <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
            .setHeader(<span class="string"><span class="delimiter">&quot;</span><span class="content">operation</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">${operation}</span><span class="delimiter">&quot;</span></span>);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see the message creator is a POJO Java class that defines one or more methods that are annotated with <strong>@MessageCreator</strong> annotation. The annotation requires a message name. This is how Citrus will correlate message names in feature stories to message creator methods. The message returned is the used for the send and receive operations in the test. The message creator is reusable across multiple feature stories and scenarios. In addition to that the creator is able to construct messages in a more powerful way. For instance the message payload could be loaded from file system resources.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="echo-steps">Echo steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Another predefined step definition in Citrus is used to add a <strong>echo</strong> test action. You can use the following step in your feature scenarios:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Echo features

    Scenario: Echo messages
      Given variable foo is &quot;bar&quot;
      Then echo &quot;Variable foo=${foo}&quot;
      Then echo &quot;Today is citrus:currentDate()&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The step definition requires following pattern:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Then echo &quot;[message]&quot;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sleep-steps">Sleep steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can add <strong>sleep</strong> test actions to the feature scenarios:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Feature: Sleep features

      Scenario: Sleep default time
        Then sleep

      Scenario: Sleep milliseconds time
        Then sleep 200 ms</code></pre>
</div>
</div>
<div class="paragraph">
<p>The step definition requires one of the following patterns:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">Then sleep
Then sleep [time] ms</code></pre>
</div>
</div>
<div class="paragraph">
<p>This adds a new sleep test action to the Citrus test.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http-steps">Http steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Http steps are specially designed for Http client-server communication. You can use these steps by adding following packages as glue options in your Cucumber test:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>com.consol.citrus.cucumber.step.(designer|runner).http</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This package contains Http specific steps that enable you to send and receive messages via Http REST:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Feature: Voting Http REST API

  Background:
    Given URL: http://localhost:8080/rest/services
    Given variables
      | id      | citrus:randomUUID()  |
      | title   | Do you like Mondays? |
      | options | [ { "name": "yes", "votes": 0 }, { "name": "no", "votes": 0 } ] |
      | report  | true                 |

  Scenario: Clear voting list
    When send DELETE /voting
    Then receive status 200 OK

  Scenario: Get empty voting list
    Given Accept: application/json
    When send GET /voting
    Then Response: []
    And receive status 200 OK

  Scenario: Create voting
    Given Request:
    """
    {
      "id": "${id}",
      "title": "${title}",
      "options": ${options},
      "report": ${report}
    }
    """
    And Content-Type: application/json
    When send POST /voting
    Then receive status 200 OK

  Scenario: Get voting list
    When send GET /voting
    Then validate $.size() is 1
    Then validate $..title is ${title}
    Then validate $..report is ${report}
    And receive status 200 OK</code></pre>
</div>
</div>
<div class="paragraph">
<p>The feature scenarios use default Http steps to send requests with different methods (GET, POST, PUT, DELETE) and receive status responses (Http 200 OK). Please
explore the default step definitions in the respective package to get a detailed understanding on how to use those in your feature specification.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="docker-steps">Docker steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Docker steps access containers and build images. By default the steps try to find a valida DockerClient component in the Spring application context configuration.
You can use the steps in feature specifications to manage container states.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Feature: Voting Docker infrastructure

  Scenario: Check container deployment state
    Given docker-client "dockerClient"
    Then container "voting-app" should be running
    And container "message-broker" should be running</code></pre>
</div>
</div>
<div class="paragraph">
<p>We are able to check the container state <code>running</code>. All we need is the Docker container name or id. What else can we do within the default Docker steps? We can
build new images:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Feature: Build images

  Scenario: Build voting image
    Given docker-client "dockerClient"
    When build image "voting:1.0.0" from file "scr/main/docker/Dockerfile"
    Then create container "voting-app" from "voting:1.0.0"
    And container "voting-app" should be running</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is how we can use Docker commands in Cucumber feature specifications with Citrus default step definitions. All default step definitions for Docker are located in package</p>
</div>
<div class="ulist">
<ul>
<li>
<p>com.consol.citrus.cucumber.step.(designer|runner).docker</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="selenium-steps">Selenium steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Selenium is a widely used UI automation framework where browser user interactions are simulated. We can use default Selenium steps in the feature specifications in order to
access Selenium commands in our tests.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Feature: Voting user interface

  Background:
    Given user starts browser
    And user navigates to "http://localhost:8080"

  Scenario: Welcome page
    Then page should display link with link-text="Run application"

  Scenario: Start application
    When user clicks link with link-text="Run application"
    And sleep 500 ms
    Then page should display heading with tag-name="h1" having
    | text | Voting list |

    And page should display link with link-text="No voting found"
    And page should display form with id="new-voting" having
    | tag-name  | form          |
    | attribute | method="post" |

  Scenario: Add voting
    Given user navigates to "http://localhost:8080/voting"
    When user sets text "Do you like burgers?" to input with id="title"
    And user clicks button with id="submitNew"
    And sleep 500 ms
    Then page should display element with link-text="Do you like burgers?"</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the predefined Cucumber steps for Selenium we are able to interact with the browser. For instance we can click buttons, verify page objects and
navigate to different pages.</p>
</div>
<div class="paragraph">
<p>All these Selenium steps are located in package:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>com.consol.citrus.cucumber.step.(designer|runner).selenium</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Selenium browser is automatically picked from the Spring bean application context configuration in Citrus. Here you can decide which Selenium WebDriver to use during the tests.
Also you can instantiate web page instances and call page actions and validation steps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">VotingListPage</span> <span class="directive">implements</span> WebPage, PageValidator&lt;VotingListPage&gt; {

    <span class="annotation">@FindBy</span>(tagName = <span class="string"><span class="delimiter">&quot;</span><span class="content">h1</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> WebElement heading;

    <span class="annotation">@FindBy</span>(id = <span class="string"><span class="delimiter">&quot;</span><span class="content">new-voting</span><span class="delimiter">&quot;</span></span>)
    <span class="directive">private</span> WebElement newVotingForm;

    <span class="comment">/**
     * Submits new voting.
     * @param title
     * @param options
     */</span>
    <span class="directive">public</span> <span class="type">void</span> submit(<span class="predefined-type">String</span> title, <span class="predefined-type">String</span> options) {
        newVotingForm.findElement(By.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>)).sendKeys(title);
        <span class="keyword">if</span> (StringUtils.hasText(options)) {
            newVotingForm.findElement(By.id(<span class="string"><span class="delimiter">&quot;</span><span class="content">options</span><span class="delimiter">&quot;</span></span>)).sendKeys(options.replaceAll(<span class="string"><span class="delimiter">&quot;</span><span class="content">:</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>));
        }

        newVotingForm.submit();
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> validate(VotingListPage webPage, SeleniumBrowser browser, TestContext context) {
        Assert.assertEquals(<span class="string"><span class="delimiter">&quot;</span><span class="content">Voting list</span><span class="delimiter">&quot;</span></span>, heading.getText());
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This page object defines elements and actions on that page that are callable in our feature specification.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Feature: Voting pages

  Background:
    Given page "welcomePage" com.consol.citrus.demo.voting.selenium.pages.WelcomePage
    Given page "votingListPage" com.consol.citrus.demo.voting.selenium.pages.VotingListPage

  Scenario: Welcome page
    When user starts browser
    And user navigates to "http://localhost:8080"
    Then page welcomePage should validate

  Scenario: Start application
    When user navigates to "http://localhost:8080"
    And page welcomePage performs startApp
    And sleep 500 ms
    Then page votingListPage should validate

  Scenario: Add voting
    Given user navigates to "http://localhost:8080/voting"
    When page votingListPage performs submit with arguments
    | Do you like pizza? |
    And sleep 500 ms
    Then page should display element with link-text="Do you like pizza?"
    And page votingListPage should validate

  Scenario: Add voting with options
    Given user navigates to "http://localhost:8080/voting"
    When page votingListPage performs submit with arguments
      | What is your favorite color? |
      | red:green:blue |
    And sleep 500 ms
    Then page should display element with link-text="What is your favorite color?"
    And page votingListPage should validate</code></pre>
</div>
</div>
<div class="paragraph">
<p>The page objects get instantiated and dependency injection makes sure that web elements and other resources are passed to
the page object. Then action method can perform as well as validation tasks can validate the page state.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-07-05 17:17:08 MESZ
</div>
</div>
</body>
</html>