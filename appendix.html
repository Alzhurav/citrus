<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Appendix</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body id="appendix" class="article toc2 toc-left">
<div id="header">
<h1>Appendix</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#changes-2-6">Changes in Citrus 2.6</a>
<ul class="sectlevel2">
<li><a href="#gzip-compression">Gzip compression</a></li>
<li><a href="#custom-servlet-filters">Custom servlet filters</a></li>
<li><a href="#escape-test-variable-syntax">Escape test variable syntax</a></li>
<li><a href="#configurable-xml-serializer">Configurable XML serializer</a></li>
<li><a href="#local-message-store">Local message store</a></li>
<li><a href="#wait-message-condition">Wait message condition</a></li>
<li><a href="#xpath-and-jsonpath-function">Xpath and JsonPath Function</a></li>
<li><a href="#static-response-adapter-variables-support">Static response adapter variables support</a></li>
<li><a href="#cucumber-bdd-support">Cucumber BDD support</a></li>
<li><a href="#zookeeper-support">Zookeeper support</a></li>
<li><a href="#spring-restdocs-support">Spring Restdocs support</a></li>
<li><a href="#hamcrest-matcher-conditions">Hamcrest matcher conditions</a></li>
<li><a href="#soap-java-dsl">SOAP Java DSL</a></li>
<li><a href="#refactoring">Refactoring</a></li>
</ul>
</li>
<li><a href="#changes-2-5">Changes in Citrus 2.5</a>
<ul class="sectlevel2">
<li><a href="#hamcrest-matcher-support">Hamcrest matcher support</a></li>
<li><a href="#rmi-support">RMI support</a></li>
<li><a href="#jmx-support">JMX support</a></li>
<li><a href="#resource-injection">Resource injection</a></li>
<li><a href="#http-x-www-form-urlencoded-message-validator">Http x-www-form-urlencoded message validator</a></li>
<li><a href="#date-range-validation-matcher">Date range validation matcher</a></li>
<li><a href="#read-file-resource-function">Read file resource function</a></li>
<li><a href="#timer-container">Timer container</a></li>
<li><a href="#upgrade-to-vertx-3-2-0">Upgrade to Vert.x 3.2.0</a></li>
</ul>
</li>
<li><a href="#changes-2-4">Changes in Citrus 2.4</a>
<ul class="sectlevel2">
<li><a href="#docker-support">Docker support</a></li>
<li><a href="#http-rest-actions">Http REST actions</a></li>
<li><a href="#wait-test-action">Wait test action</a></li>
<li><a href="#camel-actions">Camel actions</a></li>
<li><a href="#purge-endpoints-action">Purge endpoints action</a></li>
<li><a href="#release-to-maven-central">Release to Maven Central</a></li>
</ul>
</li>
<li><a href="#changes-2-3">Changes in Citrus 2.3</a>
<ul class="sectlevel2">
<li><a href="#test-runner-and-test-designer">Test runner and test designer</a></li>
<li><a href="#websocket-support">WebSocket support</a></li>
<li><a href="#jsonpath-support">JSONPath support</a></li>
<li><a href="#customize-message-validators">Customize message validators</a></li>
<li><a href="#library-upgrades">Library upgrades</a></li>
<li><a href="#upgrade-from-citrus-2-2">Upgrade from Citrus 2.2</a></li>
<li><a href="#bugfixes">Bugfixes</a></li>
</ul>
</li>
<li><a href="#changes-2-2">Changes in Citrus 2.2</a>
<ul class="sectlevel2">
<li><a href="#arquillian-support">Arquillian support</a></li>
<li><a href="#junit-support">JUnit support</a></li>
<li><a href="#citrus-ant-tasks">Citrus Ant tasks</a></li>
<li><a href="#bugfixes">Bugfixes</a></li>
</ul>
</li>
<li><a href="#changes-2-1">Changes in Citrus 2.1</a>
<ul class="sectlevel2">
<li><a href="#soap-mtom-support">SOAP MTOM support</a></li>
<li><a href="#soap-envelope-handling">SOAP envelope handling</a></li>
<li><a href="#soap-1-2-message-factory">SOAP 1.2 message factory</a></li>
<li><a href="#testng-data-provider-handling">TestNG data provider handling</a></li>
<li><a href="#mail-message-namespace">Mail message namespace</a></li>
<li><a href="#ssh-message-namespace">Ssh message namespace</a></li>
</ul>
</li>
<li><a href="#changes-2-0">Changes in Citrus 2.0</a>
<ul class="sectlevel2">
<li><a href="#refactoring">Refactoring</a></li>
<li><a href="#spring-framework-4-x">Spring framework 4.x</a></li>
<li><a href="#ftp-support">FTP support</a></li>
<li><a href="#functions-with-test-context-access">Functions with test context access</a></li>
<li><a href="#validation-matcher-with-test-context-access">Validation matcher with test context access</a></li>
<li><a href="#message-listener-with-test-context-access">Message listener with test context access</a></li>
<li><a href="#soap-over-jms">SOAP over JMS</a></li>
<li><a href="#multiple-soap-attachments">Multiple SOAP attachments</a></li>
<li><a href="#multiple-soap-xml-header-fragments">Multiple SOAP XML header fragments</a></li>
<li><a href="#create-variable-validation-matcher">Create variable validation matcher</a></li>
<li><a href="#new-configuration-components">New configuration components</a></li>
<li><a href="#citrus-jms-module">Citrus JMS module</a></li>
</ul>
</li>
<li><a href="#changes-1-4">Changes in Citrus 1.4</a>
<ul class="sectlevel2">
<li><a href="#refactoring">Refactoring</a></li>
<li><a href="#data-dictionaries">Data dictionaries</a></li>
<li><a href="#mail-adapter">Mail adapter</a></li>
<li><a href="#endpoint-adapter">Endpoint adapter</a></li>
<li><a href="#global-variables-component">Global variables component</a></li>
<li><a href="#json-text-validator-mode">Json text validator mode</a></li>
<li><a href="#http-rest-specific-java-dsl-options">HTTP REST specific Java DSL options</a></li>
<li><a href="#soap-http-validation">SOAP HTTP validation</a></li>
<li><a href="#apache-camel-integration">Apache Camel integration</a></li>
<li><a href="#vert-x-integration">Vert.x integration</a></li>
<li><a href="#dynamic-endpoint-components">Dynamic endpoint components</a></li>
</ul>
</li>
<li><a href="#changes-1-3">Changes in Citrus 1.3</a>
<ul class="sectlevel2">
<li><a href="#test-and-xmltest-annotations">@CitrusTest and @CitrusXmlTest annotations</a></li>
<li><a href="#parameters-annotation">@CitrusParameters annotation</a></li>
<li><a href="#schema-repository-configuration-components">Schema repository configuration components</a></li>
<li><a href="#change-date-function">Change date function</a></li>
<li><a href="#weekday-validation-matcher">Weekday validation matcher</a></li>
<li><a href="#java-dsl">Java DSL</a></li>
<li><a href="#xhtml-message-validation">XHTML message validation</a></li>
<li><a href="#multiple-soap-fault-detail-support">Multiple SOAP fault detail support</a></li>
<li><a href="#jetty-server-security-handler">Jetty server security handler</a></li>
<li><a href="#test-actors">Test actors</a></li>
<li><a href="#simulate-http-error-codes-with-soap">Simulate Http error codes with SOAP</a></li>
<li><a href="#ssh-server-and-client">SSH server and client</a></li>
<li><a href="#ant-run-test-action">ANT run test action</a></li>
<li><a href="#polling-interval-for-reply-handlers">Polling interval for reply handlers</a></li>
<li><a href="#upgrading-from-version-1-2">Upgrading from version 1.2</a></li>
</ul>
</li>
<li><a href="#changes-1-2">Changes in Citrus 1.2</a>
<ul class="sectlevel2">
<li><a href="#spring-version-update">Spring version update</a></li>
<li><a href="#new-groovy-features">New groovy features</a></li>
<li><a href="#sql-multi-line-result-set-validation">SQL multi-line result set validation</a></li>
<li><a href="#extended-message-format-support">Extended message format support</a></li>
<li><a href="#new-xml-features">New XML features</a></li>
<li><a href="#soap-support-improvements">SOAP support improvements</a></li>
<li><a href="#http-and-restful-webservices">Http and RESTful WebServices</a></li>
<li><a href="#html-reporting">HTML reporting</a></li>
<li><a href="#validation-matchers">Validation matchers</a></li>
<li><a href="#conditional-container">Conditional container</a></li>
<li><a href="#support-for-message-selectors-on-message-channels">Support for message selectors on message channels</a></li>
<li><a href="#new-test-actions">New test actions</a></li>
<li><a href="#new-functions">New functions</a></li>
<li><a href="#upgrading-from-version-1-1">Upgrading from version 1.1</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This chapter gives a brief overview of all archived changes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-2-6">Changes in Citrus 2.6</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Citrus 2.6 comes with a set of new modules that enable completely new aspects of integration testing. Namely these are the new modules for Cucumber behavior driven development and Zookeeper support. Just have a look at the following features that are shipped within the 2.6 box.</p>
</div>
<div class="sect2">
<h3 id="gzip-compression">Gzip compression</h3>
<div class="paragraph">
<p>Citrus now supports Gzip message compression. For Http client server endpoints we introduced special compression filters that automatically tak care on compression
when the http header <strong>Accept-Encoding=gzip</strong> or <strong>Content-Encoding=gzip</strong> is set. For other endpoints we introduced the message type <strong>gzip</strong> and the message validator
<strong>gzip-base64</strong> which automatically compresses and decompresses message payloads and enables base64 String comparison for validation purpose. The new compression features are
described in <a href="http">http</a> and <a href="validation-gzip">validation-gzip</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="custom-servlet-filters">Custom servlet filters</h3>
<div class="paragraph">
<p>The Citrus http server component now accepts custom servlet filter implementations. This is useful for implementing custom logic on request/response processing such as
automatic message compression or caching. You can set one or many custom filter implementations and map those to request paths for the server. Read about this in chapter <a href="http">http</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="escape-test-variable-syntax">Escape test variable syntax</h3>
<div class="paragraph">
<p>Citrus uses test variables and looks for the expressions of type <strong>${variable-name}</strong>. Now when this same syntax is part of a message content we run into errors as Citrus
wants to find a test variable. At the end Citrus complains about the unknown variable. Therefore we introduced an escape syntax for variables so you can skip the Citrus variable expression evaluation.
You can do this by using <strong>${//escaped//}</strong> syntax. Read more about this in <a href="test-variables">test-variables</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configurable-xml-serializer">Configurable XML serializer</h3>
<div class="paragraph">
<p>We often deal with XML message format and therefore need to parse and serialize XML data. The default XML serializer uses <strong>pretty print</strong> format and <strong>cdata section</strong> support. Now
sometimes it is mandatory to customize these settings which is possible with the new version. You can add a custom XML serializer in the Spring application context and Citrus will automatically use this
implementation and configuration. You can see how it works in chapter <a href="validation-xml">validation-xml</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="local-message-store">Local message store</h3>
<div class="paragraph">
<p>We introduced a local message store that automatically saves all exchanged messages (inbound and outbound). This message store can be used to get exchanged messages during and after the test.
Test actions as well as test listeners can access the local message store. Read more about this in chapters <a href="endpoints">endpoints</a>, <a href="actions-send">actions-send</a> and <a href="actions-receive">actions-receive</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="wait-message-condition">Wait message condition</h3>
<div class="paragraph">
<p>The wait test action has a new condition. Besides waiting for files to exist and http requests to be responded you can now wait for messages in the local message store. This way you
can wait for a certain message to arrive. This is described in chapter <a href="actions-wait">actions-wait</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="xpath-and-jsonpath-function">Xpath and JsonPath Function</h3>
<div class="paragraph">
<p>There are new functions available to evaluate some Xpath or JsonPath expression on a XML/Json source. The source can be a static structure coming from an external file or a message payload stored in the local
storage. See how to use this functions in chapter <a href="functions">functions</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="static-response-adapter-variables-support">Static response adapter variables support</h3>
<div class="paragraph">
<p>Server components can use static response adapters that automatically send response messages to any calling client. The response adapter is now able to use test variables and functions. In addition to that
you can map values from the actual request message that has triggered the response adapter by using the local message store in combination with Xpath or JsonPath. Read about this in <a href="endpoint-adapter">endpoint-adapter</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="cucumber-bdd-support">Cucumber BDD support</h3>
<div class="paragraph">
<p>Behavior driven development is more and more coming up also in the integration testing environment. Cucumber is a fantastic behavior driven development library that provides support for BDD concepts with Gherkin. The new Citrus integration with Cucumber enables the mix of Gherkin syntax feature scenarios with Citrus test case execution. You write feature stories as usual and create Citrus test cases with lots of actions for the integration test. See details for this feature in <a href="cucumber">cucumber</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="zookeeper-support">Zookeeper support</h3>
<div class="paragraph">
<p>Zookeeper from Apache lets you manage configuration with distributed coordination. As a user you create and edit values on a Zookeeper server. Other clients then can retrieve this information. With Citrus you are able to access this information from within a test case. The Zookeeper Citrus client lets you manage information on the Zookeeper server. See details for this feature in <a href="zookeeper">zookeeper</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="spring-restdocs-support">Spring Restdocs support</h3>
<div class="paragraph">
<p>Restdocs is a fantastic way of generating documentation for RESTful APIs. While exchanging request/response data with the server Restdocs creates documentation information on the data. The documentation includes field descriptions, headers and snippets for body content. With new Citrus version Http clients in Citrus can add Restdoc interceptors that generate the documentation while executing the test cases. This way you are able to document what messages were exchanged in tests. The Restdocs support is also available for the SOAP Http client in Citrus. See details in <a href="restdocs">restdocs</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="hamcrest-matcher-conditions">Hamcrest matcher conditions</h3>
<div class="paragraph">
<p>Iterating test action containers in Citrus evaluate boolean expressions for determination of how to execute the nested actions in a loop. Also the conditional container executes nested actions based on boolean expression evaluation. The Citrus boolean expression support is limited to very basic operations such as lower than or greater than. Furthermore the combination of boolean expressions with variables has not been supported. Following from that we have improved the boolean expression evaluation mechanism with extension to Hamcrest matchers. So now you can evaluate matchers in iterating conditions. This feature is described in <a href="containers-conditional">containers-conditional</a>and <a href="containers-iterate">containers-iterate</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="soap-java-dsl">SOAP Java DSL</h3>
<div class="paragraph">
<p>Citrus provides a new Java fluent API for sending and receiving SOAP related message content. The Java DSL enhancements are based on those of Http. Now you can define SOAP messages with special SOAP action headers more easily. On top of that you can handle SOAP faults on client and server with the fluent API. Checkout <a href="soap-webservices">soap-webservices</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="refactoring">Refactoring</h3>
<div class="paragraph">
<p>Refactoring in terms of simplification and standardization is part of our daily life as a developer. We have been working on improving the Java DSL fluent API for SOAP. We also introduced a more common way of handling the test action containers like iterate, parallel and so on. This leads to some classes and methods that were marked as deprecated. So please have a look at your Java DSL code and if you see some usage of deprecated stuff please use the new approaches as soon as possible. The deprecated stuff will definitely disappear in upcoming releases.</p>
</div>
<div class="paragraph">
<p>Some of the changes that we have made might hit you right away. These changes are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">ws:assert</dt>
<dd>
<p>element in SOAP testcase schema has been renamed to <strong>ws:assert-fault</strong> . This was done for better interoperability reasons with <strong>assert</strong> action in core schema and to be compliant to <strong>send-fault</strong> action.</p>
</dd>
<dt class="hdlist1">Java DSL module</dt>
<dd>
<p>has had Maven dependencies to several other modules in Citrus (e.g. citrus-jms, citrus-soap). These dependencies were declared as compile dependencies, which is not very nice as you might not need JMS or SOAP functionalities in your project. We have added optional and provided markers to that dependencies which means that you have to decide in your project which of the modules to include.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>You may face some missing dependencies errors when running the Maven project. As a result you need to include the Citrus modules (e.g. citrus-http, citrus-docker, and so on) in your project Maven POM explicitly.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-2-5">Changes in Citrus 2.5</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We have added lots of new features and improvements with Citrus 2.5. Namely these are the new modules for RMI and JMX support, a new x-www-form-urlencoded message validator and new functions anc test actions. Just have a look at the following features that made it to the box.</p>
</div>
<div class="sect2">
<h3 id="hamcrest-matcher-support">Hamcrest matcher support</h3>
<div class="paragraph">
<p>Hamcrest is a very powerful matcher library that provides a fantastic set of matcher implementations for message validation purpose. Citrus now supports these matchers coming from Hamcrest library. On the one hand you can use Hamcrest matchers as a Citrus validation matcher as described in <a href="validation-matcher-hamcrest">validation-matcher-hamcrest</a>. On the other hand you can use Hamcrest matchers now directly using the Citrus Java DSL. See details for this feature in <a href="json-path-validate">json-path-validate</a>.</p>
</div>
<div class="paragraph">
<p>[[binary-base64 message validator]]
=== Binary base64 message validator</p>
</div>
<div class="paragraph">
<p>There is a new message validator implementation that automatically converts binary message content to a base64 encoded String representation for comparison. This is the easiest way to compare binary message content with an expected message payload. See <a href="validation-binary">validation-binary</a>how this is working for you.</p>
</div>
</div>
<div class="sect2">
<h3 id="rmi-support">RMI support</h3>
<div class="paragraph">
<p>Remote method invocation is a standard Java technology and API for calling methods on remote objects across different JVM instances. Although RMI has lost its popularity it is still used in legacy components. Testing RMI bean invocation is a hard thing to do. Now Citrus provides client and server support for remote interface invocation. See <a href="rmi">rmi</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="jmx-support">JMX support</h3>
<div class="paragraph">
<p>Similar to RMI JMX can be used to connect to remote bean invocation. This time we expose some beans to a managed bean server in order to be managed by JMX operations for read and write. With Citrus 2.5 we have added a client and server support for calling and providing managed beans on a mbean server. See <a href="jmx">jmx</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="resource-injection">Resource injection</h3>
<div class="paragraph">
<p>With 2.5 we have added mechanisms for injecting Citrus components to your Java DSL test methods. This is very useful when needing access to the Citrus test context for instance. Also we are able to use new injection of test designer and runner instances in order to support parallel test execution with multiple threads. See the explanations in <a href="testcase-resource-injection">testcase-resource-injection</a>and <a href="testcase-context-injection">testcase-context-injection</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="http-x-www-form-urlencoded-message-validator">Http x-www-form-urlencoded message validator</h3>
<div class="paragraph">
<p>HTML form data can be transmitted with different methods and content types. One of the most common ways is to use <strong>x-www-form-urlencoded</strong> form data content. As validation can be tricky we have added a special message validator for that. See <a href="http-www-form-urlencoded">http-www-form-urlencoded</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="date-range-validation-matcher">Date range validation matcher</h3>
<div class="paragraph">
<p>Added a new validation matcher implementation that is able to check that a date value is between a certain date range (from and to) The date range is able to focus on days as well as additional time (hour, minute, second) specifications. See <a href="validation-matcher-daterange">validation-matcher-daterange</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="read-file-resource-function">Read file resource function</h3>
<div class="paragraph">
<p>A new function implementation offers you the possibilities to read file resource contents as inline data. The function is called and returns the file content as return value. The file content is then placed right where the function was called e.g. inside of a message payload element or as message header value. See <a href="functions-read-file">functions-read-file</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="timer-container">Timer container</h3>
<div class="paragraph">
<p>The new timer test action container repeats its execution based on a time expression (e.g. every 5 seconds). With this timer we can repeat test actions with a fixed time delay or constantly execute test actions with time schedule. See <a href="containers-timer">containers-timer</a>and <a href="actions-stop-timer">actions-stop-timer</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrade-to-vertx-3-2-0">Upgrade to Vert.x 3.2.0</h3>
<div class="paragraph">
<p>The Vert.x module was upgraded to use Vert.x 3.2.0 version. The Citrus module implementation was updated to work with this new Vert.x version. Learn more about the Vert.x integration in Citrus with <a href="vertx">vertx</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-2-4">Changes in Citrus 2.4</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Citrus 2.4 comes with a set of new features especially regarding Apache Camel and Docker integrations. Bugfixes of course are also part of the package. See the following overview on what has changed.</p>
</div>
<div class="sect2">
<h3 id="docker-support">Docker support</h3>
<div class="paragraph">
<p>Docker and Microservices are frequent topics in software development recently. We have added interaction with Docker in Citrus so the user can manage Docker containers within a test case. Citrus now provides special Docker test actions for building, starting, stopping and inspecting Docker images and containers in a test. See <a href="docker">docker</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="http-rest-actions">Http REST actions</h3>
<div class="paragraph">
<p>We have significantly improved the Http REST support in Citrus. The focus is on simplifying the Http REST usage in Citrus test cases. With new Http specific test actions on client and server we can send and receive Http REST messages very easy. See <a href="http">http</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="wait-test-action">Wait test action</h3>
<div class="paragraph">
<p>With the new wait test action we can explicitly wait for some remote condition to become true inside of a test case. The conditions supported at the moment are Http url requests and file based conditions. A user can invoke a Http server url and wait for it to return a success <strong>Http 200 OK</strong> response. This is an awesome feature when waiting for a server to start up before the test continues. We can also think of waiting for a Docker container to start up before continuing. Or you can wait until a file is present on the local file system. See <a href="actions-wait">actions-wait</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="camel-actions">Camel actions</h3>
<div class="paragraph">
<p>Citrus has already had support for Apache Camel routes and Camel context loading. Now with 2.4 version we have added some special Apache Camel test actions for interacting with a Camel context and its routes. This enables the tester to create and use a new Camel route on the fly inside a test case. Also Citrus is now able to interact with the Camel control bus accessing route statistics and status information. Also possible are start, stop, suspend, resume operations on a Camel route. See <a href="camel-actions">camel-actions</a>and <a href="camel-controlbus">camel-controlbus</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="purge-endpoints-action">Purge endpoints action</h3>
<div class="paragraph">
<p>Purging JMS queues and in memory channels at test runtime has become a widely used feature especially when aiming to make tests more stable in terms of independent tests. We have added a purge endpoint test action that works on any consumer endpoint. So you do not need to separate between endpoint implementations anymore and more important you can purge server in memory channel components very easy. See <a href="actions-purge-endpoints">actions-purge-endpoints</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="release-to-maven-central">Release to Maven Central</h3>
<div class="paragraph">
<p>This is not a new feature but also worth to tell here as it is a significant improvement on the whole framework project. We can now release the Citrus artifacts to Maven central repository. So you do not need the additional <strong>labs.consol.de</strong> repository in your Maven POM anymore. The <strong>labs.consol.de</strong> repository will continue to exist though as we will release SNAPSHOT versions of Citrus here in future.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-2-3">Changes in Citrus 2.3</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We want to give you a short overview of what has changed in Citrus 2.3. The release adds some new features and improvements to the box. Bugfixes of course are also part of the package. See the following overview on what has changed.</p>
</div>
<div class="sect2">
<h3 id="test-runner-and-test-designer">Test runner and test designer</h3>
<div class="paragraph">
<p>One of the biggest issues with the Citrus Java DSL is the fact that the Citrus Java DSL methods first build the whole test case together before the actual execution takes place. So calling a Java DSL method <strong>send</strong> for instance just prepares the sending test action. The actual sending of the message takes place to a later time when all test actions are setup and the test case is ready to run. This separation of design time and runtime of a test case leads to misunderstandings as a Java developer is used to work with statements and method calls that perform immediately. Based on that the mixture of Citrus Java DSL method calls and normal Java code logic in your test may have lead to unexpected behavior. Following from that we decided to refactor the Java DSL method execution. The result is a new <strong>TestRunner</strong> concept that executes all Java DSL method calls immediately. The old way of building the whole test case before execution is represented with <strong>TestDesigner</strong> concept. So both worlds are now available to you. See <a href="testcase">testcase</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="websocket-support">WebSocket support</h3>
<div class="paragraph">
<p>The WebSocket message protocol builds on top of Http standard and brings bidirectional communication to the Http client-server world. With this release Citrus users are able to send and receive messages with WebSocket connections. The Http server implementation is now able to define multiple WebSocket endpoints. The new Citrus WebSocket client is able to publish messages to the server via bidirectional WebSocket protocol. See <a href="http-websocket">http-websocket</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="jsonpath-support">JSONPath support</h3>
<div class="paragraph">
<p>Citrus is able to work with Xpath expressions in several fields within the testing domain (overwrite elements, ignore elements, extract values from payloads). Now this support of manipulating message payloads via expressions is extended with JSONPath. Similar to Xpath the JSONPath expression statements enable you to find elements and values within a message payload. Not very surprising the JSONPath expressions work with Json message payloads. With the new release you can overwrite, ignore and manipulate Json elements using JSONPath expressions. See <a href="json-path">json-path</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="customize-message-validators">Customize message validators</h3>
<div class="paragraph">
<p>The framework offers several message validator implementations for different message formats like XML, JSON, plaintext and so on. In addition to that Citrus has a set of Groovy script message validators. All these validator implementations are active by default so you are able to validate incoming messages accordingly in Citrus. Now with this release we added a more comfortable way of changing the framework validation functionality, particular when adding new customized message validator implementations. See <a href="validation">validation</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="library-upgrades">Library upgrades</h3>
<div class="paragraph">
<p>We have upgraded the versions of the major dependency libraries of Citrus. This includes TestNG, JUnit, Spring Framework, Spring WS, Spring Integration, Apache Camel, Arquillian, Jetty and more. So Citrus is now working with up-to-date versions of the whole messaging and middleware integration gang.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrade-from-citrus-2-2">Upgrade from Citrus 2.2</h3>
<div class="paragraph">
<p>Along with new features and improvements we refactored and changed some parts of Citrus so you might have to set things straight when upgrading to 2.3. See the following list of things that might be brought up to you:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">@CitrusTest annotation</dt>
<dd>
<p>We have moved the <strong>@CitrusTest</strong> annotation to a more common package. The old package was <strong>com.consol.citrus.dsl.annotations.CitrusTest</strong> . The new package is <strong>com.consol.citrus.annotations.CitrusTest</strong> . So you have to change the Java import statements in your Test classes when upgrading.</p>
</dd>
<dt class="hdlist1">TestResult</dt>
<dd>
<p>We changed the <strong>TestResult</strong> instantiation when generating the test reports. The <strong>TestResult</strong> class now works with static instantiation methods for success, skipped and failed tests. This only affects your code when you have created custom test reporters.</p>
</dd>
<dt class="hdlist1">CitrusTestBuilder deprecation</dt>
<dd>
<p>A major refactoring was done in the <strong>TestBuilder</strong> Java DSL code. <strong>com.consol.citrus.dsl.TestBuilder</strong> and all its subclasses were marked as deprecated and will disappear in next versions. So instead we now support <strong>com.consol.citrus.dsl.design.TestDesigner</strong> which basically offers the same functionality as former TestBuilder. In addition that refactoring brought a new way of executing the Java DSL test cases. Instead of building the whole test case before execution is done as a whole you can now use the <strong>com.consol.citrus.dsl.runner.TestRunner</strong> implementation in order to execute each test action in the Java DSL immediately. This is a more Java like way of writing Citrus test cases as you can mix Citrus test action execution with normal Java statements as usual. Read more about the new approach in <a href="testcase">testcase</a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="bugfixes">Bugfixes</h3>
<div class="paragraph">
<p>Bugs are part of our software developers world and fixing them is part of your daily business, too. Finding and solving issues makes Citrus better every day. For a detailed listing of all bugfixes please refer to the complete changes log of each release (<a href="http://www.citrusframework.org/changes-report.html">http://www.citrusframework.org/changes-report.html</a>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-2-2">Changes in Citrus 2.2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Citrus 2.2 is a release mostly adding new features as well as improvements to given Citrus features. Bugfixes of course are also part of the package. See the following overview on what has changed.</p>
</div>
<div class="sect2">
<h3 id="arquillian-support">Arquillian support</h3>
<div class="paragraph">
<p>Arquillian is a well known integration test framework that comes with a great feature set when it comes to Java EE testing inside of a full qualified application server. With Arquiliian you can deploy your Java EE services in a real application server of your choice and execute the tests inside the application server boundaries. This makes it very easy to test your Java EE services in scope with proper JNDI resource allocation and other resources provided by the application server. Citrus is able to connect with the Arquillian test case. Speaking in more detail your Arquillian test is able to use a Citrus extension in order to use the Citrus feature set inside the Arquillian boundaries. See <a href="arquillian">arquillian</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="junit-support">JUnit support</h3>
<div class="paragraph">
<p>Citrus supports both major players in unit testing TestNG and JUnit. Unfortunately we did not offer the same feature support for JUnit as it was done for TestNG. Now with Citrus 2.2 we improved the JUnit support in Citrus so you are able to use all features with both frameworks. This is especially related to using the <strong>@CitrusTest</strong> and <strong>@CitrusXmlTest</strong> method annotations in test classes. See <a href="run-junit">run-junit</a>how it works.</p>
</div>
<div class="paragraph">
<p>[[start/stop server action]]
=== Start/Stop server action</p>
</div>
<div class="paragraph">
<p>Citrus was missing a dedicated test action to start and stop Citrus server components at tet runtime. With the newly added test actions you are able to start and stop server components as you like within your test case. See <a href="actions-manage-server">actions-manage-server</a>with a detailed description.</p>
</div>
</div>
<div class="sect2">
<h3 id="citrus-ant-tasks">Citrus Ant tasks</h3>
<div class="paragraph">
<p>We discontinue to support the Citrus Ant tasks. The Ant tasks were not very stable an lacked full feature support when executing test cases with JUnit in Apache Ant. Instead we added a brief description on how to execute Citrus tests with the well documented and stable default JUnit and TestNG ant tasks. See <a href="setup-using-ant">setup-using-ant</a>how it works.</p>
</div>
</div>
<div class="sect2">
<h3 id="bugfixes">Bugfixes</h3>
<div class="paragraph">
<p>Bugs are part of our software developers world and fixing them is part of your daily business, too. Finding and solving issues makes Citrus better every day. For a detailed listing of all bugfixes please refer to the complete changes log of each release (<a href="http://www.citrusframework.org/changes-report.html">http://www.citrusframework.org/changes-report.html</a>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-2-1">Changes in Citrus 2.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Citrus 2.1 adds some enhancements to the Citrus feature set as well as bugfixes and improvements. See the following overview on what has changed.</p>
</div>
<div class="sect2">
<h3 id="soap-mtom-support">SOAP MTOM support</h3>
<div class="paragraph">
<p>SOAP MTOM stands for Message Transmission Optimization Mechanism which allows you to send and receive large SOAP attachment contents streamed with optimized resource allocation on server and client. Many thanks to community contributions (github/stonator) that made this happen with Citrus SOAP client and server. As a user you can shoose to send and receive SOAP attachments with MTOM optimization. See <a href="soap-attachment-mtom">soap-attachment-mtom</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="soap-envelope-handling">SOAP envelope handling</h3>
<div class="paragraph">
<p>In its default behavior Citrus will remove the SOAP envelope for incoming SOAP requests just providing the SOAP body as message payload. This is more straight forward in a test case to perform further validation steps. However it might be mandatory to see the whole SOAP envelope inside the test case for special validation. As a user you can now choose how to handle incoming SOAP envelope by definig the <strong>keep-soap-envelope</strong> setting on the Citrus SOAP server components. See <a href="soap-keep-envelope">soap-keep-envelope</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="soap-1-2-message-factory">SOAP 1.2 message factory</h3>
<div class="paragraph">
<p>The Citrus SOAP server component was missing a setting for the SOAP message factory to use. The SOAP message factory implementation decides which SOAP version to use 1.1 or 1.2. Now you can set the message factory on the server component and define the SOAP version to use. See <a href="soap-12">soap-12</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="testng-data-provider-handling">TestNG data provider handling</h3>
<div class="paragraph">
<p>We improved the TestNG data provider handling in Citrus. Now you can use the usual TestNG data provider annotations in your test methods. TestNG will call the Citrus test case several times with respective parameters provided as test variables. This replaces the old <strong>citrusDataProvider</strong> mechanism that tried to make things working in a kind of workaround. The new provider handling also supports multiple data providers in a test class. <a href="run-testng-data-providers">run-testng-data-providers</a> describes how this is working for you.</p>
</div>
</div>
<div class="sect2">
<h3 id="mail-message-namespace">Mail message namespace</h3>
<div class="paragraph">
<p>The Citrus mail components enable message exchange as mail client and server. For validation purpose the components offer a XML mail message representation. We have added a target namespace and a XSD schema for this XML mail message representation. From now on you have to use the namespace accordingly in your mail message payloads when sending and receiving mail messages in Citrus. See <a href="mail">mail</a> how to use the new XML mail message namespace.</p>
</div>
</div>
<div class="sect2">
<h3 id="ssh-message-namespace">Ssh message namespace</h3>
<div class="paragraph">
<p>When sending and receiving messages via ssh Citrus provides a XML representation for request and response data. These ssh messages follow a new target namespace and a XSD schema. This means you have to use the namespace accordingly in your ssh message payloads when sending and receiving ssh messages in Citrus. See <a href="ssh">ssh</a> for further details.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-2-0">Changes in Citrus 2.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Citrus 2.0 is a major version upgrade and therefore big things should be happening. In the following sections we shortly describe the Citrus evolution. We want you to get a quick overview of what has happened and all the new things in Citrus. So hopefully you can spot your favorite new feature.</p>
</div>
<div class="sect2">
<h3 id="refactoring">Refactoring</h3>
<div class="paragraph">
<p>In Citrus 1.4 we began to refactor the configuration components in Citrus. This refactoring was finalized in Citrus 2.0 which means that all deprecated classes and api are no longer supported. The classes were removed so you get compilation errors when using those old stuff. If you still use the old configuration see this <a href="migration-sheet"><a href="http://citrusframework.org/migration-sheet.html" class="bare">http://citrusframework.org/migration-sheet.html</a></a>in order to learn how to upgrade to the new configuration. It is worth to do so! In addition to that we did refactoring in following fields:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Reply message correlation</dt>
<dd>
<p>In synchronous communication scenarios Citrus optionally correlated messages across send and receive test actions. In default setting the message correlation was disabled. With 2.0 release we changed this behavior to the opposite. Now message correlation is done by default with a default correlation algorithm. So in case you used the DefaultReplyMessageCorrelator in Citrus before you will not have to do so in future as this is done by default. The message correlation gives us more robust tests especially when executing tests in parallel. In the test case you do not have to do anything for proper message correlation.</p>
</dd>
<dt class="hdlist1">Citrus message API</dt>
<dd>
<p>We have refactored the Citrus message API to use custom message objects in endpoints, consumers and producers. This has no affect on your tests or configuration unless you have written endpoint extensions or custom endpoints on your own. You might have to refactor your code accordingly. Have a look at the Citrus endpoint implementations in order to see how the new message API works for you.</p>
</dd>
<dt class="hdlist1">Sleep time in milliseconds</dt>
<dd>
<p>This is something that we definitely carry around since the beginning of Citrus. The time values in sleep test action were done in seconds, which is inconvenient when using time periods below one second or non natural numbers. Now you can choose to use milliseconds which is more likely how you should configure time periods anyway. See <a href="actions-sleep">actions-sleep</a>for details</p>
</dd>
<dt class="hdlist1">Auto sleep time in milliseconds</dt>
<dd>
<p>We used seconds when using auto sleep in repeat on error container. This led to the fact that we were not able to sleep time periods below one second. Also it was not possible to specify non natural numbers such as 1.5 seconds auto sleep time. We changed to milliseconds which is more likely how you are used to configure time periods anyway. See <a href="containers-repeat-onerror">containers-repeat-onerror</a>for details</p>
</dd>
<dt class="hdlist1">Message handler vs. endpoint adapter</dt>
<dd>
<p>In previous releases prior to 1.4 we had message handlers on server side that were able to forward in coming requests to message channels or jms destinations. The old message handler implementations were removed in 2.0. Instead you should use the <strong>endpoint-adapter</strong> implementations. See <a href="endpoint-adapter">endpoint-adapter</a>how that works.</p>
</dd>
<dt class="hdlist1">XML endpoint reference attribute</dt>
<dd>
<p>In a XML test case you reference the message endpoint in the send and receive actions with a special attribute called <strong>with</strong> . This attribute is no longer supported and was removed. Instead you should use the <strong>endpoint</strong> attribute which was introduced in Citrus 1.4 and has the exact same functionality.</p>
</dd>
<dt class="hdlist1">Removed citrus-adapter module</dt>
<dd>
<p>The Maven module <strong>citrus-adapter</strong> was removed. Classes and API moved to <strong>citrus-core</strong> module. For endpoint adapters do use the new configuration components that were introduced in Citrus 1.4. See <a href="endpoint-adapter">endpoint-adapter</a>for details.</p>
</dd>
<dt class="hdlist1">WebServiceEndpoint class renamed</dt>
<dd>
<p>In terms of package refactoring the <strong>com.consol.citrus.ws.WebServiceEndpoint</strong> was renamed to <strong>com.consol.citrus.ws.server.WebServiceEndpoint</strong></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="spring-framework-4-x">Spring framework 4.x</h3>
<div class="paragraph">
<p>In terms of upgrading the Citrus API dependencies we introduced Spring 4.x versions. This includes the core Spring framework libraries as well as the Spring Integration and Spring WebService project artifacts. So with the major version upgrade lots of API changes were also done in Citrus code in order to meet the new Spring 4.x API. So we recommend for you to also use Spring 4.x version in your Citrus projects.</p>
</div>
</div>
<div class="sect2">
<h3 id="ftp-support">FTP support</h3>
<div class="paragraph">
<p>New member of the Citrus family deals with FTP connectivity. The new <strong>citrus-ftp</strong> module provides a neat ftp server and client implementation so you can send and receive messages vie FTP message transport. <a href="ftp">ftp</a> describes the new functionality in detail.</p>
</div>
</div>
<div class="sect2">
<h3 id="functions-with-test-context-access">Functions with test context access</h3>
<div class="paragraph">
<p>Functions are now able to access the test context. This enables you to access all test variables and other central test related components in a function implementation. Therefore the function Java interface has now an additional test context parameter. Refactor your custom written functions accordingly to meet the new interface rules. See [<a href="http://www.citrusframework.org/tutorials-functions.html" class="bare">http://www.citrusframework.org/tutorials-functions.html</a>](how to write custom functions)for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="validation-matcher-with-test-context-access">Validation matcher with test context access</h3>
<div class="paragraph">
<p>Just like functions now validation matchers are able to access the test context. This enables you to access all test variables and other central test related components in a validation matcher implementation. The validation matcher Java interface has changed accordingly with an additional test context parameter. Refactor your custom written matcher implementation accordingly to meet the new interface rules.</p>
</div>
</div>
<div class="sect2">
<h3 id="message-listener-with-test-context-access">Message listener with test context access</h3>
<div class="paragraph">
<p>Message listeners do now also have access to the test context. This is more powerful as you can access test variables and other central components within the test context.</p>
</div>
</div>
<div class="sect2">
<h3 id="soap-over-jms">SOAP over JMS</h3>
<div class="paragraph">
<p>SOAP over JMS was supported in Citrus from the very beginning. Unfortunately you had to always specify the whole SOAP envelope in your test case. SOAP envelope handling is now done automatically by Citrus when using the new <strong>SoapJmsMessageConverter</strong> . The converter takes care on constructing a proper SOAP envelope message. See <a href="jms-soap">jms-soap</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="multiple-soap-attachments">Multiple SOAP attachments</h3>
<div class="paragraph">
<p>When sending and receiving SOAP messages with Citrus as client or server you can add one to many attachments to the message. Before it was only possible to have one single attachment in a message. Now you have no limits in defining SOAP attachments. See <a href="soap-webservices">soap-webservices</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="multiple-soap-xml-header-fragments">Multiple SOAP XML header fragments</h3>
<div class="paragraph">
<p>The SOAP header can hold multiple XML header fragments with different namespaces and content. With Citrus 2.0 you are able to construct such a SOAP message with multiple header contents. See <a href="soap-webservices">soap-webservices</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="create-variable-validation-matcher">Create variable validation matcher</h3>
<div class="paragraph">
<p>A new validation matcher implementation is able to create a new variable on the fly. The actual field name is used as variable name and the element value as variable value. The variable name can slo be customized with optional validation matcher parameter. This is a great alternative to the XPath expression evaluating variable extraction. Also very handsome to use this validation matcher in Json message payloads. See <a href="validation-matcher-variable">validation-matcher-variable</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-configuration-components">New configuration components</h3>
<div class="paragraph">
<p>A major part of the Citrus configuration is done in a Spring bean application context. Central Citrus components and features are added as Spring beans to the application context. Now with Citrus 2.0 we have added special configuration components for almost all features. This means that you can easily add configuration using the new XML schema components. See which components are available:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Function library</dt>
<dd>
<p>Custom function libraries with custom function implementations are now configured with the <strong>function-library</strong> XML schema components in the Spring application context configuration. See <a href="functions">functions</a> for details.</p>
</dd>
<dt class="hdlist1">Validation matcher library</dt>
<dd>
<p>Custom validation matcher implementations are now configured with the <strong>validation-matcher-library</strong> XML schema components in the Spring application context configuration. See <a href="validation-matchers">validation-matchers</a>for details.</p>
</dd>
<dt class="hdlist1">Data dictionary</dt>
<dd>
<p>Data dictionaries apply to all messages send and received in test cases. You can define multiple dictionaries using the <strong>data-dictionary</strong> XML schema components in the Spring application context configuration. See <a href="data-dictionary">data-dictionary</a> for details.</p>
</dd>
<dt class="hdlist1">Namespace context</dt>
<dd>
<p>Configuration of a global namespace context is necessary for XML message payloads and XPath expressions used in the test cases. The <strong>namespace-context</strong> XML schema component is used in the Spring application context configuration and simplifies the configuration. See <a href="xpath">xpath</a> for details.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>[[before/after suite components]]
=== Before/after suite components</p>
</div>
<div class="paragraph">
<p>When executing test actions before the actual test run you can use the sequence before suite components. We have improved these components to use a special XML schema. This enables easy configuration of both before and after suite actions. In addition to that you can bind the suite actions to special packages, test names or suite names. So you can now have more than one sequence before suite at the same time. According to the environment settings the before suite actions are executed or left out. Last not least we have done the same improvement to the before test actions and we have introduced a after test sequence component for execution after each test. See how this is done in <a href="testsuite">testsuite</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="citrus-jms-module">Citrus JMS module</h3>
<div class="paragraph">
<p>JMS support has been a major part of Citrus from the very beginning. Up to now the JMS features were located in <strong>citrus-core</strong> Maven module. With Citrus 2.0 we introduced a separate <strong>citrus-jms</strong> Maven module. This means that you might have to add proper Maven dependency of this new module in your existing project when using JMS. See how this is done in <a href="jms">jms</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-1-4">Changes in Citrus 1.4</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="refactoring">Refactoring</h3>
<div class="paragraph">
<p>It was time for us to do some code refactoring in Citrus. Many users struggled with the configuration of the Citrus components and project setup was too verbose in some areas. This is why we tried to improve things with working over the basic concepts and components in Citrus.</p>
</div>
<div class="paragraph">
<p>The outcome is a new Citrus 1.4 which has new configuration components for sending and receiving messages. Also the client and server components for HTTP and SOAP have changed in terms of simplification. Unfortunately refactoring comes along with code deprecation. This is why you have to also change your project code and configuration in the future. This is especially when you have made code adjustments and extensions to the Citrus API.</p>
</div>
<div class="paragraph">
<p>The good news now is that with Citrus 1.4 both old and new configuration works fine, so you do not have to change your existing project configuration when coming from Citrus 1.3.x and earlier versions. But there is a lot of code marked as deprecated in Citrus 1.4. Have a look at what has been marked as deprecated and update your code to use the new API.</p>
</div>
<div class="paragraph">
<p>We have set up a migration sheet for users coming from Citrus 1.3.x and earlier versions in order to find a quick overview of what has changed and how to use the new configuration components: [<a href="http://citrusframework.org/migration-sheet.html" class="bare">http://citrusframework.org/migration-sheet.html</a>](Citrus 1.4 migration-sheet)</p>
</div>
</div>
<div class="sect2">
<h3 id="data-dictionaries">Data dictionaries</h3>
<div class="paragraph">
<p>Data dictionaries define dynamic placeholders for message payload element values in general manner. In terms of setting the same message element across all test cases and all test actions the dictionary provides an easy key-value approach.</p>
</div>
<div class="paragraph">
<p>When dealing with any kind of message payload Citrus will ask the data dictionary for possible translation of the message elements contained. The dictionary keys do match to a specific message element defined by XPath expression or document path expression for instance. The respective value is then set on all messages in Citrus (inbound and outbound).</p>
</div>
<div class="paragraph">
<p>Dictionaries do apply to XML or JSON message data and can be defined in global or specific scope. Find out more detailed information about this topic in <a href="data-dictionary">data-dictionary</a></p>
</div>
</div>
<div class="sect2">
<h3 id="mail-adapter">Mail adapter</h3>
<div class="paragraph">
<p>With the new mail adapter you are able to both send and receive mail messages within a test case. The new Citrus mail client produces a mail mime part message with usual mail headers and a text body part. Optional attachment parts are supported, too.</p>
</div>
<div class="paragraph">
<p>On the server side Citrus provides a SMTP server to accept client mail messages. The incoming mail messages can have multiple text parts and attachment parts. As usual you can validate the incoming mail messages regarding headers and payload with the well known validation capabilities in Citrus.</p>
</div>
<div class="paragraph">
<p>Read more about the new mail module in <a href="mail">mail</a></p>
</div>
</div>
<div class="sect2">
<h3 id="endpoint-adapter">Endpoint adapter</h3>
<div class="paragraph">
<p>Endpoint adapters help to customize the behavior of a Citrus server such as HTTP or SOAP web servers. The endpoint adapter is responsible of creating an endpoint that responds to inbound requests. You can customize the behavior so the Citrus server handles incoming requests as you like.</p>
</div>
<div class="paragraph">
<p>By default the Citrus server uses a channel endpoint adapter so incoming messages get forwarded to an in memory message channel. There are several other implementations available as endpoint adapter. Read more about that in <a href="endpoint-adapter">endpoint-adapter</a></p>
</div>
</div>
<div class="sect2">
<h3 id="global-variables-component">Global variables component</h3>
<div class="paragraph">
<p>We added a global variables XML configuration component for more comfortable usage in basic Spring application context configuration. The component is able to create new global variables that are valid across all Citrus test cases. This can also be done by loading a property file from an external file resource. Find out how to us it in <a href="testcase-global-variables">testcase-global-variables</a></p>
</div>
</div>
<div class="sect2">
<h3 id="json-text-validator-mode">Json text validator mode</h3>
<div class="paragraph">
<p>The Json text validator is now able to operate in two different modes. The <strong>strict</strong> mode is the default mode and validation includes also a strict check on all sub-objects and JSON array elements. So if there is an object missing the validation will fail immediately. Sometimes it may be accurate to only validate a subset of all JSON objects in the data structure. Therefore the non-strict mode does not check on object attribute counts. See more description in <a href="validation-json">validation-json</a></p>
</div>
</div>
<div class="sect2">
<h3 id="http-rest-specific-java-dsl-options">HTTP REST specific Java DSL options</h3>
<div class="paragraph">
<p>When sending and receiving HTTP messages on REST APIs you can now use interface specific options in the Java DSL. This refers to request uri, context path, query parameters and HTTP status codes for instance. With this enhancement you are now more comfortable in handling REST API calls in Citrus. Find out how to us it in <a href="http">http</a></p>
</div>
</div>
<div class="sect2">
<h3 id="soap-http-validation">SOAP HTTP validation</h3>
<div class="paragraph">
<p>While receiving SOAP messages over HTTP we are now able to also verify the used HTTP uri, context-path and query parameters. You can expect clients to use those values in your receive action as you would do in normal HTTP communication within Citrus. This completes the HTTP server validation when using SOAP over HTTP. Read more about it in <a href="soap-webservices">soap-webservices</a></p>
</div>
</div>
<div class="sect2">
<h3 id="apache-camel-integration">Apache Camel integration</h3>
<div class="paragraph">
<p>Apache Camel is a great enterprise integration platform that implements the enterprise integration patterns for building powerful mediation and routing rules for message based integration applications. With the new support for camel endpoints in Citrus you can interact with Apache Camel components for sending and receiving messages. Apache Camel offers a fine support for different message transports that now can be used in Citrus also. In addition to that you can put your Camel application to the test with loading of the Apache Camel context with all your route definitions. Citrus is able to interact with these routes in asynchronous and synchronous communication scenarios. Read about it in <a href="camel">camel</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="vert-x-integration">Vert.x integration</h3>
<div class="paragraph">
<p>Vert.x is a very powerful application platform that provides scalable messaging for several message transports such as HTTP, WebSockets, TCP and more. Vert.x also has a distributed event bus that connects multiple Vert.x instances across the network. With Citrus 1.4 the Vert.x platform is integrated with Citrus event bus endpoints. So you can participate in communicating to the Vert.x event bus from Citrus test case. This enables you to add automated integration tests to the Vert.x platform. Read about that in <a href="vertx">vertx</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="dynamic-endpoint-components">Dynamic endpoint components</h3>
<div class="paragraph">
<p>Endpoints represent the base component in Citrus for sending and receiving messages. The endpoint usually is defined inside the Citrus Spring application context as Spring bean component. Now it is also possible to create dynamic endpoint definitions at test runtime. This comes in very handy when you just want to send or receive a message with Citrus as is. You do not need to add the complete endpoint configuration but only use a special endpoint uri pattern. Citrus will create the endpoint at runtime automatically. Learn how to use the dynamic endpoint pattern in <a href="endpoint-components">endpoint-components</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-1-3">Changes in Citrus 1.3</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="test-and-xmltest-annotations">@CitrusTest and @CitrusXmlTest annotations</h3>
<div class="paragraph">
<p>With the new Java DSL capabilities Citrus created new ways of executing test cases within a TestNG or JUnit test class. Now we even improved the usage here with two new annotations <strong>@CitrusTest</strong> and <strong>CitrusXmlTest</strong> . The integration into the unit test class has never been easier for you.</p>
</div>
<div class="paragraph">
<p>The new Citrus annotations go directly to your unit test methods. With this enhancement you can have multiple Citrus test cases in one single Java class and the Citrus tests now are able to coexist with other unit test methods. You can even mix Java DSL and XML Citrus test cases in a single Java class.</p>
</div>
<div class="paragraph">
<p>The XML Citrus tests can be grouped to a single Java class with multiple XML files loaded during execution. There is even a package scan for all Citrus XML files within a directory structure so you do not have to create a Java class for each test case anymore.</p>
</div>
<div class="paragraph">
<p>We have changed the documentation in this guide so you can see how to use the new annotations. For detailed overview see <a href="run-config-testng">run-config-testng</a>. Also see our Citrus blog where we continuously describe the many possibilities that you have with the new annotations.</p>
</div>
</div>
<div class="sect2">
<h3 id="parameters-annotation">@CitrusParameters annotation</h3>
<div class="paragraph">
<p>Citrus is able to use the fabulous TestNG data provider capabilities in order to execute a test case several times with different data provided form external resources. The new @CitrusParameters annotation helps to set parameter names which are used as test variable names in the test case.</p>
</div>
</div>
<div class="sect2">
<h3 id="schema-repository-configuration-components">Schema repository configuration components</h3>
<div class="paragraph">
<p>Defining schema repositories and schemas (xsd, wsdl) is common use in Citrus. We have added XML bean definition parsers so defining those components is less verbose. You can use the Citrus <strong>citrus:schema-repository</strong> and <strong>citrus:schema</strong> components in your Spring application context configuration. The components do receive several attributes for further configuration. XSD, WSDL and schema collections are supported here.</p>
</div>
<div class="paragraph">
<p>Checkout <a href="xsd-validation">xsd-validation</a>for examples how to use the new configuration components.</p>
</div>
</div>
<div class="sect2">
<h3 id="change-date-function">Change date function</h3>
<div class="paragraph">
<p>We have added a new Citrus function <strong>citrus:changeDate()</strong> that is available for you by default. The function changes a given date value adding or removing a datetime offset (e.g. year, month, day, hour, minute, second). So you can manipulate each date value also those of dynamic nature coming with some message.</p>
</div>
<div class="paragraph">
<p>See <a href="functions-changedate">functions-changedate</a>for examples and detailed syntax usage of this function.</p>
</div>
</div>
<div class="sect2">
<h3 id="weekday-validation-matcher">Weekday validation matcher</h3>
<div class="paragraph">
<p>The new weekday validation matcher also works on date values. The matcher checks that a given date value evaluates to a expected day of the week. So the user can check that a date field is always a saturday for instance. This is very helpful when checking that a given date value is not a working day for example.</p>
</div>
<div class="paragraph">
<p>See <a href="validation-matcher-weekday">validation-matcher-weekday</a>for some more detailed description of the matcher&#8217;s capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="java-dsl">Java DSL</h3>
<div class="paragraph">
<p>Citrus users, in particular those with development experience, do often tell me about the nasty XML code they have to deal with for writing Citrus test definitions. Developers want to write Java code rather than XML. Although I personally do like the Citrus XML test syntax we have introduced a Java DSL language for writing Citrus tests with Java only.</p>
</div>
<div class="paragraph">
<p>We have introduced the Java DSL to all major test action features in Citrus so you can switch without having to worry about loosing functionality. Details can be seen in the test action section where we added Java DSL examples almost everywhere (<a href="actions">actions</a>). The basic Java DSL setup is described in <a href="testcase">testcase</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="xhtml-message-validation">XHTML message validation</h3>
<div class="paragraph">
<p>Message validation for Html code was not really comfortable as Html does not confirm to be wellformed and valid XML syntax. XHTML tries to close this gap by automatically resolving all Html specific XML syntax rule violations. With Citrus 1.3 we introduced a XHTML message validator which does the magic for converting Html code to proper wellformed and valid XML. In a test case you can then use the full XML validation power in Citrus in order to validate incoming Html messages. Section <a href="validation-xhtml">validation-xhtml</a>deals with the new validation capabilities for Html.</p>
</div>
</div>
<div class="sect2">
<h3 id="multiple-soap-fault-detail-support">Multiple SOAP fault detail support</h3>
<div class="paragraph">
<p>SOAP fault messages can hold many SOAP fault detail elements. Citrus was able to handle a single SOAP fault detail on sending and receiving test actions from the very beginning but multiple SOAP fault detail elements were not supported. Fortunately things are getting better and you can send and receive as many fault detail elements as you like in Citrus 1.3. For each SOAP fault detail you can specify individual validation rules and expectations. See <a href="soap-faults">soap-faults</a>for detailed description.</p>
</div>
</div>
<div class="sect2">
<h3 id="jetty-server-security-handler">Jetty server security handler</h3>
<div class="paragraph">
<p>With our Jetty server component you can set up Http mock servers very easy. The server is automatically configured to accept Http client connections and to load a Spring application context on startup. Now you can also set some more details on this automatic server configuration (e.g. server context path, servlet names or servlet mappings). In addition to that you can access the security context of the web container. This enables you to set up security constraints such as basic authentication on server resources. Clients are then forced to authenticate properly when accessing the server. Unauthorized users will get <strong>401 access denied</strong> errors immediately. See <a href="http-basic-auth-server">http-basic-auth-server</a>for details. Of course this also applies to our SOAP WebService Jetty server components (<a href="soap-basic-auth-server">soap-basic-auth-server</a>).</p>
</div>
</div>
<div class="sect2">
<h3 id="test-actors">Test actors</h3>
<div class="paragraph">
<p>We introduced a new concept of test actors for sending and receiving test actions. This enables you to link a test actor (e.g. interface partner application, backend application) to a test action in your test. Following from that you can enable/disable test actors and all linked test actions very easy. This enables us to reuse Citrus test cases in end-to-end test scenarios where not all interface partners get simulated by Citrus. If you like to read more about this concept follow the detailed instruction in <a href="test-actors">test-actors</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="simulate-http-error-codes-with-soap">Simulate Http error codes with SOAP</h3>
<div class="paragraph">
<p>Citrus provides SOAP WebServices server simulation with clients connecting to the server sending SOAP requests. As a server Citrus is now able to simulate Http error codes like <strong>404 Not found</strong> and <strong>500 Internal server error</strong> . Before that the Citrus SOAP server had to always respond with a proper SOAP response or SOAP fault. See <a href="soap-http-errors">soap-http-errors</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="ssh-server-and-client">SSH server and client</h3>
<div class="paragraph">
<p>The Citrus family has raised a new member in adding SSH connectivity. With the new SSH module you are able to provide a full stack SSH server. The SSH server accepts client connections and you as a tester can simulate any SSH server functionality with proper validation as it is known to Citrus SOAP and HTTP modules. In addition to that you can also use the Citrus SSH client in order to connect to an external SSH server. You can execute SSH commands on the SSH server and validate the respective response data. The full description is provided in <a href="ssh">ssh</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="ant-run-test-action">ANT run test action</h3>
<div class="paragraph">
<p>With this new test action you can call ANT builds from your test case. The action executes one or more ANT build targets on a build.xml file. You can specify build properties that get passed to the ANT build and you can add a custom build listener. In case the ANT build run fails the test fails accordingly with the build exception. See <a href="actions-antrun">actions-antrun</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="polling-interval-for-reply-handlers">Polling interval for reply handlers</h3>
<div class="paragraph">
<p>With synchronous communication in Citrus we always have a combination of a synchronous message sender and a reply handler component. These two perform a handshake when passing synchronous reply messages to the test for further processing such as message validation. While the sender is waiting for the synchronous response to arrive the reply handler polls for the reply message. This polling for reply messages was done in a static way which often led to time delays according to long polling intervals. Now with Citrus 1.3 you can set the polling-interval for the reply handler as you like. This setting is valid for all reply handler components in Citrus (citrus-jms, citrus-http, citrus-ws, citrus-channel, citrus-shh, and so on).</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrading-from-version-1-2">Upgrading from version 1.2</h3>
<div class="paragraph">
<p>If you are coming from Citrus 1.2 you may have to look at the following points in order to have a smooth upgrade to the new release version.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Jetty version upgrade</dt>
<dd>
<p>We are using Jetty a lot for starting Http server mocks within Citrus. In order to stay up to date we upgraded to Jetty 8.1.7 version with this Citrus release. This implies that package names did change for Jetty API. In general there is no conflict for you as a Citrus user, but you may want to adjust your logging configuration according to new Jetty packages. Jetty package names did change from <strong>ord.mortbay</strong> to <strong>org.eclipse.jetty</strong> .</p>
</dd>
<dt class="hdlist1">Spring version upgrade</dt>
<dd>
<p>Staying up to date with the versions of 3rd library dependencies is quite important for us. So we upgrade our dependencies to newer versions with each release. As we did only upgrade minor versions there is no significant change or problems to be expected. However you may take care on versions and release changes in the Spring world for details and migration.</p>
</dd>
<dt class="hdlist1">TIBCO module</dt>
<dd>
<p>We decided to put the TIBCO module separately as it is a very special connectivity adapter for TIBCO software only. So you will not find the TIBCO module within the Citrus distribution anymore. We will maintain a TIBCO connectivity adapter separately in the future.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changes-1-2">Changes in Citrus 1.2</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="spring-version-update">Spring version update</h3>
<div class="paragraph">
<p>We have some major version upgrades in our Spring dependencies. We are now using Spring 3.1.1, Spring Integration 2.1.2 and SpringWS 2.1.0. This upgrade was overdue for some time and is definitely worth it. With these upgrades we had to apply some changes in our API, too. This is because we are using the Spring classes a lot in our code. See the upgrade guide in this chapter for all significant changes that might affect your project.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-groovy-features">New groovy features</h3>
<div class="paragraph">
<p>Citrus extended the possibilities to work with script languages like Groovy. You can use Groovy&#8217;s MarkupBuilder to create XML message payloads. Your Groovy code goes right into the test case or comes from external file. With MarkupBuilder you do not need to care about XML message syntax and overhead. Just focus on the pure message content. You can read the details in <a href="groovy-markupbuilder">groovy-markupbuilder</a>.</p>
</div>
<div class="paragraph">
<p>Further Groovy feature goes to the validation capabilities. Instead of working with XML DOM tree comparison and XPath expression validation you can use Groovy XMLSlurper. This is very useful for those of you who need to do complex message validation and do not like the XML/XPath syntax at all. With XMLSlurper you can access the XML DOM tree via named closure operations which feels great. This especially comes in handy for complex generic XML structures as you can search for elements, sort element list and use the powerful contains operation. This is all described in <a href="groovy-xmlslurper">groovy-xmlslurper</a>.</p>
</div>
<div class="paragraph">
<p>Some other Groovy support extension comes in SQL result set validation (<a href="actions-database-groovy">actions-database-groovy</a>). When reading data from the database someone is able to validation the resulting data row set with Groovy script. The script code easily accesses the rows and columns with Groovy&#8217;s out-of-the-box list and map handling. This adds very powerful validation to multi-row data sets from the database.</p>
</div>
</div>
<div class="sect2">
<h3 id="sql-multi-line-result-set-validation">SQL multi-line result set validation</h3>
<div class="paragraph">
<p>In this new Citrus version the tester can validate SQL Query results that have multiple rows. In the past Citrus could only handle a single row in the result set. Now this new release brings light into the dark. See also the new Groovy SQL result set validation which fits brilliant for complex multi-row SQL result set validation. The details can be found in <a href="actions-database-query">actions-database-query</a></p>
</div>
</div>
<div class="sect2">
<h3 id="extended-message-format-support">Extended message format support</h3>
<div class="paragraph">
<p>In previous versions Citrus was primary designed to handle XML message payloads. With this new release Citrus is also able to work with other message formats such as JSON, CSV, PLAINTEXT. This applies to sending messages as well as receiving and particularly validating message payloads. The tester can specify several message validators in Citrus for different message formats. According to the expected message format the proper validator is chosen to perform the message validation.</p>
</div>
<div class="paragraph">
<p>We have implemented a JSON message validator capable of ignoring specific JSON entries and handling JSONArrays. We also provide a plain text message validator which is very basic to be honest. The framework is ready to receive new validator implementations so you can add custom validators for your specific needs.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-xml-features">New XML features</h3>
<div class="paragraph">
<p>XML namespace handling is tedious expecially if you have to deal with a lot of XPath expressions in your tests. Before you had need to specify a namespace context for the XPath expression every time you use them in your test - now you can have a central namespace context which declares namespaces you use in your project. These namespaces identified by some prefix are available throughout the test project which is much more maintainable and easy to use. See how it works in <a href="xpath-namespace">xpath-namespace</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="soap-support-improvements">SOAP support improvements</h3>
<div class="paragraph">
<p>WsAddressing standard is now supported in Citrus (<a href="soap-ws-adressing">soap-ws-adressing</a>). This means you can declare the specific WsAddressing message headers on message sender level in order to send messages with WsAddressing feature. The header is constructed automatically for all SOAP messages that are sent over the message sender.</p>
</div>
<div class="paragraph">
<p>Dynamic SOAP endpoint uri resolver enables you to dynamically address SOAP endpoints during a test. Sometimes a message sender may dynamically have to change the SOAP url for each call (e.g. address different request uri parts). With a endpoint uri resolver set on the message sender you can handle this requirement very easy. The tip for dynamic endpoint resolving was added to <a href="soap-sender">soap-sender</a></p>
</div>
<div class="paragraph">
<p>We also simplified the synchronous SOAP HTTP communication within test cases. In previous versions you had to build complex parallel and sequential container constructs in order to continue with test execution while the SOAP message sender is waiting for the synchronous response to arrive. Now you can simply fork the message sending action and continue with further test actions while synchronous SOAP communication takes place. See the <a href="soap-fork-mode">soap-fork-mode</a>for details</p>
</div>
<div class="paragraph">
<p>Some really small change introduced with this release is the fact that Citrus now logs SOAP messages in their pure nature. This means that you can see the complete SOAP envelope of messages in the Citrus log files. This is more than helpful when searching for errors inside your test case.</p>
</div>
</div>
<div class="sect2">
<h3 id="http-and-restful-webservices">Http and RESTful WebServices</h3>
<div class="paragraph">
<p>We have changed Http communication components for full support of RESTful WebServices on client and server side. The Http client now uses Spring&#8217;s REST support for Http requests (GET, PUT, DELETE, POST, etc.). The server side has changed, too. The Http server now provides RESTful WebServices and is compliant to the existing SOAP Jetty server implementation in Citrus. If you want to upgrade existing projects to this version you may have to adjust the Spring application context configuration to some extent.</p>
</div>
<div class="paragraph">
<p>For details have a look at the upgrade guide (<a href="history-upgrading">history-upgrading</a>) in this chapter or find detailed explanations to the new Http components in <a href="http">http</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="html-reporting">HTML reporting</h3>
<div class="paragraph">
<p>Citrus provides HTML reports after each test run with detailed information on the failed tests. You can immediately see which tests failed in execution and where the test stopped. <a href="reporting-html">reporting-html</a>provides details on this new feature.</p>
</div>
</div>
<div class="sect2">
<h3 id="validation-matchers">Validation matchers</h3>
<div class="paragraph">
<p>The new validation matchers will put the message validation mechanisms to a new level. With validation matchers you are able to execute powerful assertions on each message content element. For instance you can use the isNumber validation matcher for checking that a message value is of numeric nature. We added several matcher implementations that are ready for usage in your test but you can also write your custom validation matchers. Have a look at <a href="validation-matchers">validation-matchers</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="conditional-container">Conditional container</h3>
<div class="paragraph">
<p>The new conditional test action container enables you to execute test actions only in case a boolean expression evaluates to true. So the nested test actions inside the container may be not executed at all in case a condition is not met. See <a href="containers-conditional">containers-conditional</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="support-for-message-selectors-on-message-channels">Support for message selectors on message channels</h3>
<div class="paragraph">
<p>Spring Integration message channels do not support message selectors like JMS queues do for example. With Citrus 1.2 we implemented a solution for this issue with a special message channel implementation. So you can use the message selector feature also when using message channels. Go to <a href="message-channel-selector-support">message-channel-selector-support</a>for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-test-actions">New test actions</h3>
<div class="paragraph">
<p>We introduced some completely new test actions in this release for you. The new actions are listed below:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Purge message channel action ()</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="actions">actions</a> for detailed instructions how to use the new actions.</p>
</div>
</div>
<div class="sect2">
<h3 id="new-functions">New functions</h3>
<div class="paragraph">
<p>We introduced some new default Citrus functions that will ease the testers life. This includes commonly used functions like encoding/decoding base64 bindary data, escaping XML and generating random Java UUID values. These are the new functions in this release:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>citrus:randomUUID()</p>
</li>
<li>
<p>citrus:cdataSection()</p>
</li>
<li>
<p>citrus:encodeBase64()</p>
</li>
<li>
<p>citrus:decodeBase64()</p>
</li>
<li>
<p>citrus:digestAuthHeader()</p>
</li>
<li>
<p>citrus:localHostAddress()</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="functions">functions</a> for detail descriptions of each function.</p>
</div>
</div>
<div class="sect2">
<h3 id="upgrading-from-version-1-1">Upgrading from version 1.1</h3>
<div class="paragraph">
<p>If you are coming from Citrus 1.1 final you may have to look at the following points.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Spring version update</dt>
<dd>
<p>We did some major version upgrades on our Spring dependencies. We are now using Spring 3.1.1, Spring Integration 2.1.2 and SpringWS 2.1.0. These new major releases bring some code changes in our Citrus API which might affect your code and configuration, too. So please update your configuration, it is definitely worth it!</p>
</dd>
<dt class="hdlist1">Spring Integration headers</dt>
<dd>
<p>With 2.0.x version Spring Integration has removed the internal header prefix ("springintegration_"). So in some cases you might use those internal header names in your test cases in order to synchronize synchronous communication with internal message ids. Your test case will fail as long as you use the old Spring internal header prefix in the test. Simply remove the header prefix wherever used and your test is up and running again.</p>
</dd>
<dt class="hdlist1">Message validator</dt>
<dd>
<p>You need to specify at least one message validator in the Spring application context. Before this was internally a static XML message validator, but now we offer different validators for several message formats like XML and JSON. Please see the Java API doc on MessageValidator interface for available implementations. If you just like to keep it as it was before add this bean to the Spring application context:</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;bean</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">xmlMessageValidator</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.consol.citrus.validation.xml.DomXmlMessageValidator</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Test suite</dt>
<dd>
<p>We have eliminated/changed the Citrus test suite logic because it duplicates those test suites defined in TestNG or JUnit. In older versions the tester had to define a Citrus test suite in Spring application context in order to execute test actions before/after the test run. Now these tasks before and after the test run are decoupled from a test suite. You define test suites exclusively in TestNG or JUnit. The test actions before/after the test run are separately defined in Spring application context so you have to change this configuration in your Citrus project. See <a href="testsuite">testsuite</a> for details on this configuration changes.</p>
</dd>
<dt class="hdlist1">JUnit vs. TestNG</dt>
<dd>
<p>We support both famous unit testing frameworks JUnit and TestNG. With this release you are free to choose your preferred one. In this manner you need to add either a JUnit dependency or a TestNG dependency to your project on your own. We do not have static dependencies in our Maven POM to neither of those two. On our side these dependencies are declared optional so you feel free to add the one you like best to your Maven POM. Just add a JUnit or TestNG dependency to your Maven project or add the respective jar file to your project if you use ANT instead.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-07-05 15:50:04 MESZ
</div>
</div>
</body>
</html>